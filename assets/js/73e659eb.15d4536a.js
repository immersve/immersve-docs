"use strict";(self.webpackChunkimmersve_docs=self.webpackChunkimmersve_docs||[]).push([[8431],{47136:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(87462),i=(n(67294),n(3905)),s=n(8209);const o={sidebar_position:1,tags:["authentication","sign-in","sign-up","login","non-custodial"]},r="Authentication",l={unversionedId:"guides/non-custodial wallets/authentication",id:"guides/non-custodial wallets/authentication",title:"Authentication",description:"Accounts are identified by way of blockchain addresses. Proof of ownership of an address is based upon a process of authentication by way of verification of EIP-4361 challenges signed by the private key underlying an address. Upon successful authentication, Immersve will issue an access token for subsequent use in interactions with the Immersve API.",source:"@site/docs/guides/non-custodial wallets/authentication.md",sourceDirName:"guides/non-custodial wallets",slug:"/guides/non-custodial wallets/authentication",permalink:"/guides/non-custodial wallets/authentication",draft:!1,tags:[{label:"authentication",permalink:"/tags/authentication"},{label:"sign-in",permalink:"/tags/sign-in"},{label:"sign-up",permalink:"/tags/sign-up"},{label:"login",permalink:"/tags/login"},{label:"non-custodial",permalink:"/tags/non-custodial"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,tags:["authentication","sign-in","sign-up","login","non-custodial"]},sidebar:"primarySidebar",previous:{title:"Non-Custodial Wallets",permalink:"/category/non-custodial-wallets"},next:{title:"Card Lifecycle",permalink:"/guides/non-custodial wallets/card-lifecycle"}},c={},u=[{value:"Login Flow",id:"login-flow",level:3}],p={toc:u};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"Accounts are identified by way of blockchain addresses. Proof of ownership of an address is based upon a process of authentication by way of verification of ",(0,i.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-4361"},"EIP-4361")," challenges signed by the private key underlying an address. Upon successful authentication, Immersve will issue an access token for subsequent use in interactions with the Immersve API."),(0,i.kt)("p",null,"Subsequent requests for protected resources from the Immersve API may be authenticated by supplying the access token in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header."),(0,i.kt)("h3",{id:"login-flow"},"Login Flow"),(0,i.kt)(s.G,{chart:"sequenceDiagram\n    participant W as Web3 Wallet\n    participant C as API Client\n    participant I as Immersve\n    C->>+I: Generate challenge\n    I--\x3e>-C: Challenge\n    C->>W: Request to sign a message\n    W--\x3e>C: Signature\n    C->>+I: Send challenge + signature\n    I--\x3e>-C: Return access token\n\t  note over C: Access token will be used for subsequent requests for protected resources from the Immersve API",mdxType:"Mermaid"}),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"/api-reference/generate-challenge"},"Generate a challenge"),". The response is an ",(0,i.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-4361"},"EIP-4361")," message in plain text to be signed by the wallet. For example:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"app.immersve.com wants you to sign in with your Ethereum account:\n0xA3058369d6A481B1ff08F62B352409c3D709De9b\n\nSign in with Ethereum to the app. This request will not trigger a blockchain transaction or cost any gas fees.\n\nURI: https://app.immersve.com\nVersion: 1\nChain ID: 1\nNonce: 2hFm7TDbZmerUgnrJ\nIssued At: 2022-08-11T22:29:48.244Z\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Invoke the wallet's message signing capability to get a signature for the given challenge message. The specific nature of the invocation of the message signing function is specific to the particular wallet in use."),(0,i.kt)("p",{parentName:"li"},"For a quick start fork our sandbox on ",(0,i.kt)("a",{parentName:"p",href:"https://replit.com/@Immersve/Authentication-Sign-Challenge?v=1"},"Replit")," and use your private key to create a new wallet and sign the generated challenge.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"/api-reference/login"},"Submit the signed challenge along with the signature")," to get the access token.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The access token should be used for subsequent requests for protected resources from the Immersve API by supplying it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header."))))}h.isMDXComponent=!0}}]);