(self.webpackChunkimmersve_docs=self.webpackChunkimmersve_docs||[]).push([[362],{45391:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>l,toc:()=>o});var r=a(87462),n=(a(67294),a(3905)),i=a(19959);const d={sidebar_position:2,tags:["card","physical card","virtual card","custodial"]},c="Card Lifecycle",l={unversionedId:"guides/custodial wallets/card-lifecycle",id:"guides/custodial wallets/card-lifecycle",title:"Card Lifecycle",description:"The lifecycle of a card is tracked via a set of predefined card states. Throughout the card lifecycle the current state is used to determine the capabilities of the card. For example, cards must be activated before they can be used for purchases or other such activity.",source:"@site/docs/guides/custodial wallets/card-lifecycle.md",sourceDirName:"guides/custodial wallets",slug:"/guides/custodial wallets/card-lifecycle",permalink:"/guides/custodial wallets/card-lifecycle",draft:!1,tags:[{label:"card",permalink:"/tags/card"},{label:"physical card",permalink:"/tags/physical-card"},{label:"virtual card",permalink:"/tags/virtual-card"},{label:"custodial",permalink:"/tags/custodial"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["card","physical card","virtual card","custodial"]},sidebar:"primarySidebar",previous:{title:"Authentication",permalink:"/guides/custodial wallets/authentication"},next:{title:"Physical cards",permalink:"/guides/custodial wallets/physical-cards"}},s={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Card States",id:"card-states",level:2},{value:"State Transitions",id:"state-transitions",level:2},{value:"Virtual cards",id:"virtual-cards",level:2},{value:"Card activation",id:"card-activation",level:3},{value:"Physical cards",id:"physical-cards",level:2},{value:"Shipped / Returned / Resent / Sold",id:"shipped--returned--resent--sold",level:3},{value:"Card activation",id:"card-activation-1",level:3},{value:"Card deactivation",id:"card-deactivation",level:2}],u={toc:o};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"card-lifecycle"},"Card Lifecycle"),(0,n.kt)("p",null,"The lifecycle of a card is tracked via a set of predefined card states. Throughout the card lifecycle the current state is used to determine the capabilities of the card. For example, cards must be activated before they can be used for purchases or other such activity."),(0,n.kt)("p",null,"Immersve manages the lifecycle of cards, acting upon inputs from clients and other connected systems whilst ensuring that only permitted state transitions are carried out."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Card blocks are a distinct concept from the card lifecycle states")),(0,n.kt)("h2",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"As soon as a card is created it will be default to the ",(0,n.kt)("inlineCode",{parentName:"p"},"created")," state. Depending on the type of card that was created it might be moved into different states automatically at this point."),(0,n.kt)("p",null,"Card state updates can be made at any time once a card is created. The most common instances of card state updates include:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Card activation in order to make the card ready for use"),(0,n.kt)("li",{parentName:"ul"},"Card deactivation once the card is no longer needed")),(0,n.kt)("p",null,"Card state updates are performed using the Update Card State API. A state must be provided in the request and a memo can optionally be included."),(0,n.kt)("p",null,"Certain card state transitions are carried out automatically without explicit API client interactions. These circumstances include when a physical card moves from ",(0,n.kt)("inlineCode",{parentName:"p"},"created")," to shipped once the card embossing file has been generated for that card."),(0,n.kt)("h2",{id:"card-states"},"Card States"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"State"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"created"),(0,n.kt)("td",{parentName:"tr",align:null},"Card record has been created")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"shipped"),(0,n.kt)("td",{parentName:"tr",align:null},"Card has shipped to the manufacturer for production.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"sold"),(0,n.kt)("td",{parentName:"tr",align:null},"Card has been sold, typically at a point-of-sale (POS).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"returned"),(0,n.kt)("td",{parentName:"tr",align:null},"Card has been returned to the banking institution.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"resent"),(0,n.kt)("td",{parentName:"tr",align:null},"Card has been resent to the customer's address.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"activated"),(0,n.kt)("td",{parentName:"tr",align:null},"Card is activated and ready for use.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"invalid"),(0,n.kt)("td",{parentName:"tr",align:null},"Card is no longer valid and is blocked from further use.")))),(0,n.kt)("h2",{id:"state-transitions"},"State Transitions"),(0,n.kt)("p",null,"The following diagram shows the lifecycle of a card's different states."),(0,n.kt)(i.G,{chart:"stateDiagram-v2\n\xa0\xa0\xa0\xa0[*] --\x3e Created: start\n    Created --\x3e Activated: \n    Created --\x3e Shipped: \n    Created --\x3e Invalid: \n    Shipped --\x3e Returned: \n    Shipped --\x3e Activated: \n    Shipped --\x3e Sold: \n    Shipped --\x3e Invalid: \n    Returned --\x3e Resent: \n    Returned --\x3e Invalid: \n    Resent --\x3e Returned: \n    Resent --\x3e Sold: \n    Resent --\x3e Activated: \n    Resent --\x3e Invalid: \n    Sold --\x3e Activated: \n    Sold --\x3e Invalid: \n    Activated --\x3e Invalid: \n\xa0\xa0\xa0\xa0Invalid --\x3e [*]: end",mdxType:"Mermaid"}),(0,n.kt)("h2",{id:"virtual-cards"},"Virtual cards"),(0,n.kt)("h3",{id:"card-activation"},"Card activation"),(0,n.kt)("p",null,"A virtual card is ",(0,n.kt)("inlineCode",{parentName:"p"},"activated")," automatically upon creation and no eplicit interactions are required prior to the usage of the card."),(0,n.kt)("h2",{id:"physical-cards"},"Physical cards"),(0,n.kt)("p",null,"A card represents a collection of data including primary account number (PAN), expiry date, and security code, that allows a cardholder to make card payments. A physical card is an object that is encoded with unique card data during manufacture and is delivered to a cardholder. Physical cards let cardholders hold the data pertaining to their card on their person. "),(0,n.kt)("p",null,"Immersve supports physical card issuance and manufacture via the card creation API operation. Immersve do not ourselves produce physical cards; rather we integrate with card manufacturers who handle physical card production, personalization and shipping. As a client, you can request to create a physical card using the Immersve APIs. Immersve then includes the particulars of the newly-created card within an embossing file and sends it to your chosen card manufacturer partner for personalization."),(0,n.kt)(i.G,{chart:"flowchart LR\n    Create_card([Create card])--\x3eGenerate_card([Generate card])\n    Queue_embossing_file([Queue embossing file])--\x3ePersonalize_card([Manufacture card])\n    subgraph Card Personalization Bureau\n      direction TB\n      Personalize_card([Personalize card])--\x3eShip_card([Ship card])\n    end\n    subgraph Immersve\n      direction TB\n      Generate_card([Generate card])--\x3eGenerate_embossing_file([Generate embossing file])\n      Generate_embossing_file([Generate embossing file])--\x3eQueue_embossing_file([Queue embossing file])\n    end\n    subgraph API Client\n      direction TB\n      Create_card([Create card])\n    end",mdxType:"Mermaid"}),(0,n.kt)("h3",{id:"shipped--returned--resent--sold"},"Shipped / Returned / Resent / Sold"),(0,n.kt)("p",null,"Transitions to ",(0,n.kt)("inlineCode",{parentName:"p"},"shipped"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"returned"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"sold")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"resent")," states are determined by the data prodived by the card personalization bureau."),(0,n.kt)("h3",{id:"card-activation-1"},"Card activation"),(0,n.kt)("p",null,"Card activation must be done before a card is able to be used for card payments or other functions. To activate a card, set the state in the request to activated. For security reasons, a physical card cannot be moved from created to activated. Instead, it can only be activated after it is ",(0,n.kt)("inlineCode",{parentName:"p"},"sold")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"shipped"),". Card activation ensures that the details of a physical card cannot be used until it is delivered to the customer and ",(0,n.kt)("inlineCode",{parentName:"p"},"activated"),"."),(0,n.kt)("p",null,"You can alternatively activate a card by setting the card Personal Identification Number (PIN) for the first time."),(0,n.kt)("h2",{id:"card-deactivation"},"Card deactivation"),(0,n.kt)("p",null,"Once a card is no longer needed, the card can be deactivated. When a card is deactivated, a card block is created on the card so that it can no longer be used. To deactivate a card, set the state in the request to ",(0,n.kt)("inlineCode",{parentName:"p"},"invalid"),". Once a card has been set to ",(0,n.kt)("inlineCode",{parentName:"p"},"invalid"),", it can no longer be transitioned to another state."),(0,n.kt)("p",null,"You can cancel the card by calling the ",(0,n.kt)("a",{parentName:"p",href:"/api-reference/cancel-a-card"},"cancel a card")," operation."),(0,n.kt)("p",null,"You can alternatively deactivate a card by selecting the option when reissuing a card. For more information, see Card Orders."))}p.isMDXComponent=!0},11748:(e,t,a)=>{var r={"./locale":89234,"./locale.js":89234};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=11748}}]);