"use strict";(self.webpackChunkimmersve_docs=self.webpackChunkimmersve_docs||[]).push([[4201],{87838:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>y,contentTitle:()=>u,default:()=>b,frontMatter:()=>d,metadata:()=>h,toc:()=>g});var a=n(87462),i=(n(67294),n(3905)),r=(n(8209),n(26389)),s=n(94891),o=n(75190),p=n(47507),m=n(24310),c=n(63303),l=(n(75035),n(85162));const d={id:"get-prerequisites",title:"Get prerequisites",description:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.",sidebar_label:"Get prerequisites",hide_title:!0,hide_table_of_contents:!0,api:{tags:["card","prerequisites"],description:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.\n",parameters:[{in:"path",name:"action",required:!0,schema:{type:"string",enum:["create-card","withdraw"]}},{name:"useMinorUnits",in:"query",description:"When enabled, amount in request body must be in minor units, an integer in the smallest denomination for the given currency.",required:!1,schema:{type:"boolean"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{chainId:{type:"string",description:"Chain ID (see https://chainlist.org/)",example:"1"},amount:{type:"string",description:"The amount to be locked in the smart contract denominated in the major unit."},token:{type:"string",description:"The asset or token the amount is denominated in.",enum:["USDC"]}},title:"get-prerequisite-transactions-request"}}},required:!0},responses:{200:{description:"User is allowed to perform action. Client should be able to request transactions from the user wallet to Immersve wallet\nThe client needs to parse transaction info and convert it to the chain-specific calls\n",content:{"application/json":{schema:{type:"object",properties:{requiredTransactions:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["smart_contract_write"]},params:{oneOf:[{title:"smart_contract_write",type:"object",properties:{contractAddress:{type:"string",description:"The address of the smart contract"},abi:{description:"The JSON ABI of the smart contract (contains only required details. more details here https://docs.soliditylang.org/en/v0.8.19/abi-spec.html#json)",type:"object",properties:{type:{type:"string",enum:["function"]},name:{type:"string",example:"approve",description:"The name of the function"},inputs:{type:"array",items:{type:"object",properties:{name:{description:"The name of the parameter",type:"string",example:"_spender"},type:{description:"The type of the parameter",type:"string",example:"address"}}}},outputs:{type:"array",items:{type:"object",properties:{name:{description:"The name of the parameter",type:"string"},type:{description:"The type of the parameter",type:"string",example:"uint256"}}}}}},method:{type:"string",description:"Smart contract method"},params:{type:"object",description:"Smart contract call params. Keys are matching names and order defined in ABI"}}}]}}}}},title:"get-prerequisite-transactions-response"},example:'{\n  "requiredTransactions": [\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "constant": false,\n            "inputs": [\n              {\n                "name": "_spender",\n                "type": "address"\n              },\n              {\n                "name": "_value",\n                "type": "uint256"\n              }\n            ],\n            "name": "approve",\n            "outputs": [\n              {\n                "name": "",\n                "type": "bool"\n              }\n            ],\n            "payable": false,\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0x5FbDB2315678afecb367f032d93F642f64180aa3",\n        "method": "approve",\n        "params": {\n          "_spender": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n          "_value": "1000000"\n        }\n      }\n    },\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "inputs": [\n              {\n                "internalType": "uint256",\n                "name": "_amount",\n                "type": "uint256"\n              }\n            ],\n            "name": "depositAndLock",\n            "outputs": [],\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n        "method": "depositAndLock",\n        "params": {\n          "_amount": "1000000"\n        }\n      }\n    }\n  ]\n}\n'}}},403:{description:"User is not allowed to get the deposit details with the reason stated in the `message`\n\n**KYC_REQUIRED** \nUser is required to perform KYC because they are about to spend the amount that exceeds the KYC-free limit.\nImmersve requires them to provide identification information to comply with regulatory requirements\n\n**AML_REQUIRED**\nUser is not allowed to create a card due to AML Checks Failing\nImmersve AML Provider found that the funding wallet might not comply with AML and can\u2019t check the origin of funds for the provided wallet. User will need to go through AML process to validate the source of the funds on the wallet\n\n**AML_PERMANENTLY_FAILED**\nSimilar to AML_REQUIRED, except the user can not remediate the failing check, because the intended deposit wallet is permanently blacklisted.\n",content:{"application/json":{schema:{type:"object",properties:{statusCode:{type:"integer"},message:{type:"string"},error:{type:"string"}},required:["statusCode","message","error"],title:"api-error"}}}}},method:"post",path:"/api/prerequisites/{action}",servers:[{url:"https://api.immersve.com/",description:"Sandbox server"}],security:[{apiKeyHeader:[],apiSecretHeader:[],accountIdHeader:[]},{immersve_auth:[]}],securitySchemes:{immersve_auth:{type:"http",scheme:"bearer",bearerFormat:"JWT"},apiKeyHeader:{type:"apiKey",in:"header",name:"x-api-key",description:"See Guides -> Authentication for instructions"},apiKeyHeaderWebhook:{type:"apiKey",in:"header",name:"APIKEY",description:"The API key provided by you to Immersve"},apiSecretHeader:{type:"apiKey",in:"header",name:"x-api-secret"},accountIdHeader:{type:"apiKey",in:"header",name:"x-account-id",description:"The target account id. If targeting the root account, this can be omitted (for example creating an account)"}},jsonRequestBodyExample:{chainId:"1",amount:"string",token:"USDC"},info:{version:"1.0.0",title:"Immersve API","x-logo":{url:"https://www.immersve.com/img/immersvelogo-bf8a9fe8408d733c996c2f7d8251e521.svg",altText:"Immersve logo"}},postman:{name:"Get prerequisites",description:{content:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.\n",type:"text/plain"},url:{path:["api","prerequisites",":action"],host:["{{baseUrl}}"],query:[{disabled:!1,description:{content:"When enabled, amount in request body must be in minor units, an integer in the smallest denomination for the given currency.",type:"text/plain"},key:"useMinorUnits",value:""}],variable:[{disabled:!1,description:{content:"(Required) ",type:"text/plain"},type:"any",value:"",key:"action"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"api-reference/immersve-api",custom_edit_url:null},u=void 0,h={unversionedId:"api-reference/get-prerequisites",id:"api-reference/get-prerequisites",title:"Get prerequisites",description:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.",source:"@site/docs/api-reference/get-prerequisites.api.mdx",sourceDirName:"api-reference",slug:"/api-reference/get-prerequisites",permalink:"/api-reference/get-prerequisites",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"get-prerequisites",title:"Get prerequisites",description:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.",sidebar_label:"Get prerequisites",hide_title:!0,hide_table_of_contents:!0,api:{tags:["card","prerequisites"],description:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.\n",parameters:[{in:"path",name:"action",required:!0,schema:{type:"string",enum:["create-card","withdraw"]}},{name:"useMinorUnits",in:"query",description:"When enabled, amount in request body must be in minor units, an integer in the smallest denomination for the given currency.",required:!1,schema:{type:"boolean"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{chainId:{type:"string",description:"Chain ID (see https://chainlist.org/)",example:"1"},amount:{type:"string",description:"The amount to be locked in the smart contract denominated in the major unit."},token:{type:"string",description:"The asset or token the amount is denominated in.",enum:["USDC"]}},title:"get-prerequisite-transactions-request"}}},required:!0},responses:{200:{description:"User is allowed to perform action. Client should be able to request transactions from the user wallet to Immersve wallet\nThe client needs to parse transaction info and convert it to the chain-specific calls\n",content:{"application/json":{schema:{type:"object",properties:{requiredTransactions:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["smart_contract_write"]},params:{oneOf:[{title:"smart_contract_write",type:"object",properties:{contractAddress:{type:"string",description:"The address of the smart contract"},abi:{description:"The JSON ABI of the smart contract (contains only required details. more details here https://docs.soliditylang.org/en/v0.8.19/abi-spec.html#json)",type:"object",properties:{type:{type:"string",enum:["function"]},name:{type:"string",example:"approve",description:"The name of the function"},inputs:{type:"array",items:{type:"object",properties:{name:{description:"The name of the parameter",type:"string",example:"_spender"},type:{description:"The type of the parameter",type:"string",example:"address"}}}},outputs:{type:"array",items:{type:"object",properties:{name:{description:"The name of the parameter",type:"string"},type:{description:"The type of the parameter",type:"string",example:"uint256"}}}}}},method:{type:"string",description:"Smart contract method"},params:{type:"object",description:"Smart contract call params. Keys are matching names and order defined in ABI"}}}]}}}}},title:"get-prerequisite-transactions-response"},example:'{\n  "requiredTransactions": [\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "constant": false,\n            "inputs": [\n              {\n                "name": "_spender",\n                "type": "address"\n              },\n              {\n                "name": "_value",\n                "type": "uint256"\n              }\n            ],\n            "name": "approve",\n            "outputs": [\n              {\n                "name": "",\n                "type": "bool"\n              }\n            ],\n            "payable": false,\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0x5FbDB2315678afecb367f032d93F642f64180aa3",\n        "method": "approve",\n        "params": {\n          "_spender": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n          "_value": "1000000"\n        }\n      }\n    },\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "inputs": [\n              {\n                "internalType": "uint256",\n                "name": "_amount",\n                "type": "uint256"\n              }\n            ],\n            "name": "depositAndLock",\n            "outputs": [],\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n        "method": "depositAndLock",\n        "params": {\n          "_amount": "1000000"\n        }\n      }\n    }\n  ]\n}\n'}}},403:{description:"User is not allowed to get the deposit details with the reason stated in the `message`\n\n**KYC_REQUIRED** \nUser is required to perform KYC because they are about to spend the amount that exceeds the KYC-free limit.\nImmersve requires them to provide identification information to comply with regulatory requirements\n\n**AML_REQUIRED**\nUser is not allowed to create a card due to AML Checks Failing\nImmersve AML Provider found that the funding wallet might not comply with AML and can\u2019t check the origin of funds for the provided wallet. User will need to go through AML process to validate the source of the funds on the wallet\n\n**AML_PERMANENTLY_FAILED**\nSimilar to AML_REQUIRED, except the user can not remediate the failing check, because the intended deposit wallet is permanently blacklisted.\n",content:{"application/json":{schema:{type:"object",properties:{statusCode:{type:"integer"},message:{type:"string"},error:{type:"string"}},required:["statusCode","message","error"],title:"api-error"}}}}},method:"post",path:"/api/prerequisites/{action}",servers:[{url:"https://api.immersve.com/",description:"Sandbox server"}],security:[{apiKeyHeader:[],apiSecretHeader:[],accountIdHeader:[]},{immersve_auth:[]}],securitySchemes:{immersve_auth:{type:"http",scheme:"bearer",bearerFormat:"JWT"},apiKeyHeader:{type:"apiKey",in:"header",name:"x-api-key",description:"See Guides -> Authentication for instructions"},apiKeyHeaderWebhook:{type:"apiKey",in:"header",name:"APIKEY",description:"The API key provided by you to Immersve"},apiSecretHeader:{type:"apiKey",in:"header",name:"x-api-secret"},accountIdHeader:{type:"apiKey",in:"header",name:"x-account-id",description:"The target account id. If targeting the root account, this can be omitted (for example creating an account)"}},jsonRequestBodyExample:{chainId:"1",amount:"string",token:"USDC"},info:{version:"1.0.0",title:"Immersve API","x-logo":{url:"https://www.immersve.com/img/immersvelogo-bf8a9fe8408d733c996c2f7d8251e521.svg",altText:"Immersve logo"}},postman:{name:"Get prerequisites",description:{content:"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response.\n",type:"text/plain"},url:{path:["api","prerequisites",":action"],host:["{{baseUrl}}"],query:[{disabled:!1,description:{content:"When enabled, amount in request body must be in minor units, an integer in the smallest denomination for the given currency.",type:"text/plain"},key:"useMinorUnits",value:""}],variable:[{disabled:!1,description:{content:"(Required) ",type:"text/plain"},type:"any",value:"",key:"action"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"api-reference/immersve-api",custom_edit_url:null},sidebar:"primarySidebar",previous:{title:"Get a card token",permalink:"/api-reference/get-a-card-token"},next:{title:"Get card details",permalink:"/api-reference/get-card-details"}},y={},g=[{value:"Get prerequisites",id:"get-prerequisites",level:2}],f={toc:g};function b(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"get-prerequisites"},"Get prerequisites"),(0,i.kt)("p",null,"This endpoint returns the requisite blockchain transactions required to permit the action (ex. creation of a new Immersve Card). It also indicates if everything is in order before instructing the client of any blockchain transactions. Insufficient KYC and AML status may trigger an error response."),(0,i.kt)("details",{style:{marginBottom:"1rem"},"data-collapsed":!1,open:!0},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"Path Parameters")),(0,i.kt)("div",null,(0,i.kt)("ul",null,(0,i.kt)(o.Z,{className:"paramsItem",param:{in:"path",name:"action",required:!0,schema:{type:"string",enum:["create-card","withdraw"]}},mdxType:"ParamsItem"})))),(0,i.kt)("details",{style:{marginBottom:"1rem"},"data-collapsed":!1,open:!0},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"Query Parameters")),(0,i.kt)("div",null,(0,i.kt)("ul",null,(0,i.kt)(o.Z,{className:"paramsItem",param:{name:"useMinorUnits",in:"query",description:"When enabled, amount in request body must be in minor units, an integer in the smallest denomination for the given currency.",required:!1,schema:{type:"boolean"}},mdxType:"ParamsItem"})))),(0,i.kt)(s.Z,{mdxType:"MimeTabs"},(0,i.kt)(l.Z,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,i.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,i.kt)("summary",{style:{textAlign:"left"}},(0,i.kt)("strong",null,"Request Body"),(0,i.kt)("strong",{style:{fontSize:"var(--ifm-code-font-size)",color:"var(--openapi-required)"}}," required")),(0,i.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,i.kt)("ul",{style:{marginLeft:"1rem"}},(0,i.kt)(m.Z,{collapsible:!1,name:"chainId",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"Chain ID (see https://chainlist.org/)",example:"1"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"amount",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The amount to be locked in the smart contract denominated in the major unit."},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"token",required:!1,schemaName:"string",qualifierMessage:"**Possible values:** [`USDC`]",schema:{type:"string",description:"The asset or token the amount is denominated in.",enum:["USDC"]},mdxType:"SchemaItem"}))))),(0,i.kt)("div",null,(0,i.kt)(r.Z,{mdxType:"ApiTabs"},(0,i.kt)(l.Z,{label:"200",value:"200",mdxType:"TabItem"},(0,i.kt)("div",null,(0,i.kt)("p",null,"User is allowed to perform action. Client should be able to request transactions from the user wallet to Immersve wallet\nThe client needs to parse transaction info and convert it to the chain-specific calls")),(0,i.kt)("div",null,(0,i.kt)(s.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,i.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,i.kt)(c.Z,{mdxType:"SchemaTabs"},(0,i.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,i.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,i.kt)("summary",{style:{textAlign:"left"}},(0,i.kt)("strong",null,"Schema")),(0,i.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,i.kt)("ul",{style:{marginLeft:"1rem"}},(0,i.kt)(m.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,i.kt)("details",{style:{}},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"requiredTransactions"),(0,i.kt)("span",{style:{opacity:"0.6"}}," object[]")),(0,i.kt)("div",{style:{marginLeft:"1rem"}},(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem",paddingBottom:".5rem"}},"Array [")),(0,i.kt)(m.Z,{collapsible:!1,name:"type",required:!1,schemaName:"string",qualifierMessage:"**Possible values:** [`smart_contract_write`]",schema:{type:"string",enum:["smart_contract_write"]},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,i.kt)("details",{style:{}},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"params"),(0,i.kt)("span",{style:{opacity:"0.6"}}," object")),(0,i.kt)("div",{style:{marginLeft:"1rem"}},(0,i.kt)("li",null,(0,i.kt)("span",{className:"badge badge--info"},"oneOf"),(0,i.kt)(c.Z,{mdxType:"SchemaTabs"},(0,i.kt)(l.Z,{label:"smart_contract_write",value:"0-item-properties",mdxType:"TabItem"},(0,i.kt)(m.Z,{collapsible:!1,name:"contractAddress",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The address of the smart contract"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,i.kt)("details",{style:{}},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"abi"),(0,i.kt)("span",{style:{opacity:"0.6"}}," object")),(0,i.kt)("div",{style:{marginLeft:"1rem"}},(0,i.kt)("div",{style:{marginTop:".5rem",marginBottom:".5rem"}},(0,i.kt)("p",null,"The JSON ABI of the smart contract (contains only required details. more details here ",(0,i.kt)("a",{parentName:"p",href:"https://docs.soliditylang.org/en/v0.8.19/abi-spec.html#json"},"https://docs.soliditylang.org/en/v0.8.19/abi-spec.html#json"),")")),(0,i.kt)(m.Z,{collapsible:!1,name:"type",required:!1,schemaName:"string",qualifierMessage:"**Possible values:** [`function`]",schema:{type:"string",enum:["function"]},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"name",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",example:"approve",description:"The name of the function"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,i.kt)("details",{style:{}},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"inputs"),(0,i.kt)("span",{style:{opacity:"0.6"}}," object[]")),(0,i.kt)("div",{style:{marginLeft:"1rem"}},(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem",paddingBottom:".5rem"}},"Array [")),(0,i.kt)(m.Z,{collapsible:!1,name:"name",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{description:"The name of the parameter",type:"string",example:"_spender"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"type",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{description:"The type of the parameter",type:"string",example:"address"},mdxType:"SchemaItem"}),(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem"}},"]"))))),(0,i.kt)(m.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,i.kt)("details",{style:{}},(0,i.kt)("summary",{style:{}},(0,i.kt)("strong",null,"outputs"),(0,i.kt)("span",{style:{opacity:"0.6"}}," object[]")),(0,i.kt)("div",{style:{marginLeft:"1rem"}},(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem",paddingBottom:".5rem"}},"Array [")),(0,i.kt)(m.Z,{collapsible:!1,name:"name",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{description:"The name of the parameter",type:"string"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"type",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{description:"The type of the parameter",type:"string",example:"uint256"},mdxType:"SchemaItem"}),(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem"}},"]")))))))),(0,i.kt)(m.Z,{collapsible:!1,name:"method",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"Smart contract method"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"params",required:!1,schemaName:"object",qualifierMessage:void 0,schema:{type:"object",description:"Smart contract call params. Keys are matching names and order defined in ABI"},mdxType:"SchemaItem"}))))))),(0,i.kt)("li",null,(0,i.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem"}},"]")))))))),(0,i.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,i.kt)(p.Z,{responseExample:'{\n  "requiredTransactions": [\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "contractAddress": "string",\n        "abi": {\n          "type": "function",\n          "name": "approve",\n          "inputs": [\n            {\n              "name": "_spender",\n              "type": "address"\n            }\n          ],\n          "outputs": [\n            {\n              "name": "string",\n              "type": "uint256"\n            }\n          ]\n        },\n        "method": "string",\n        "params": {}\n      }\n    }\n  ]\n}',language:"json",mdxType:"ResponseSamples"})),(0,i.kt)(l.Z,{label:"Example",value:"Example",mdxType:"TabItem"},(0,i.kt)(p.Z,{responseExample:'{\n  "requiredTransactions": [\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "constant": false,\n            "inputs": [\n              {\n                "name": "_spender",\n                "type": "address"\n              },\n              {\n                "name": "_value",\n                "type": "uint256"\n              }\n            ],\n            "name": "approve",\n            "outputs": [\n              {\n                "name": "",\n                "type": "bool"\n              }\n            ],\n            "payable": false,\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0x5FbDB2315678afecb367f032d93F642f64180aa3",\n        "method": "approve",\n        "params": {\n          "_spender": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n          "_value": "1000000"\n        }\n      }\n    },\n    {\n      "type": "smart_contract_write",\n      "params": {\n        "abi": [\n          {\n            "inputs": [\n              {\n                "internalType": "uint256",\n                "name": "_amount",\n                "type": "uint256"\n              }\n            ],\n            "name": "depositAndLock",\n            "outputs": [],\n            "stateMutability": "nonpayable",\n            "type": "function"\n          }\n        ],\n        "contractAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",\n        "method": "depositAndLock",\n        "params": {\n          "_amount": "1000000"\n        }\n      }\n    }\n  ]\n}\n',language:"json",mdxType:"ResponseSamples"}))))))),(0,i.kt)(l.Z,{label:"403",value:"403",mdxType:"TabItem"},(0,i.kt)("div",null,(0,i.kt)("p",null,"User is not allowed to get the deposit details with the reason stated in the ",(0,i.kt)("inlineCode",{parentName:"p"},"message")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"KYC_REQUIRED"),"\nUser is required to perform KYC because they are about to spend the amount that exceeds the KYC-free limit.\nImmersve requires them to provide identification information to comply with regulatory requirements"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"AML_REQUIRED"),"\nUser is not allowed to create a card due to AML Checks Failing\nImmersve AML Provider found that the funding wallet might not comply with AML and can\u2019t check the origin of funds for the provided wallet. User will need to go through AML process to validate the source of the funds on the wallet"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"AML_PERMANENTLY_FAILED"),"\nSimilar to AML_REQUIRED, except the user can not remediate the failing check, because the intended deposit wallet is permanently blacklisted.")),(0,i.kt)("div",null,(0,i.kt)(s.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,i.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,i.kt)(c.Z,{mdxType:"SchemaTabs"},(0,i.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,i.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,i.kt)("summary",{style:{textAlign:"left"}},(0,i.kt)("strong",null,"Schema")),(0,i.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,i.kt)("ul",{style:{marginLeft:"1rem"}},(0,i.kt)(m.Z,{collapsible:!1,name:"statusCode",required:!0,schemaName:"integer",qualifierMessage:void 0,schema:{type:"integer"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"message",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string"},mdxType:"SchemaItem"}),(0,i.kt)(m.Z,{collapsible:!1,name:"error",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string"},mdxType:"SchemaItem"})))),(0,i.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,i.kt)(p.Z,{responseExample:'{\n  "statusCode": 0,\n  "message": "string",\n  "error": "string"\n}',language:"json",mdxType:"ResponseSamples"}))))))))))}b.isMDXComponent=!0}}]);