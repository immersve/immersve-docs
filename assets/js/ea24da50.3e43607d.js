"use strict";(self.webpackChunkimmersve_docs=self.webpackChunkimmersve_docs||[]).push([[9458],{9745:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>p,default:()=>i,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=t(7462),r=(t(7294),t(3905));t(1839);const o={sidebar_position:2,id:"generate-card-pan-token",title:"Generate card pan token",tags:["card"]},p="Generate card pan token",s={unversionedId:"api-reference/card/generate-card-pan-token",id:"api-reference/card/generate-card-pan-token",title:"Generate card pan token",description:"Immersve provides a private generate card pan token API that is limited to authenticated users.",source:"@site/docs/api-reference/card/generate-card-pan-token.md",sourceDirName:"api-reference/card",slug:"/api-reference/card/generate-card-pan-token",permalink:"/api-reference/card/generate-card-pan-token",draft:!1,tags:[{label:"card",permalink:"/tags/card"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,id:"generate-card-pan-token",title:"Generate card pan token",tags:["card"]},sidebar:"tutorialSidebar",previous:{title:"Order a card",permalink:"/api-reference/card/order-card"},next:{title:"Cancel card",permalink:"/api-reference/card/cancel-card"}},c={},d=[{value:"Models",id:"models",level:3},{value:"Operations",id:"operations",level:3}],l={toc:d};function i(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},l,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"generate-card-pan-token"},"Generate card pan token"),(0,r.kt)("p",null,"Immersve provides a private generate card pan token API that is limited to authenticated users.\nThe APIs generate a token to get the card's detail (full pan and cvv2) from E6 mobile API."),(0,r.kt)("h3",{id:"models"},"Models"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../../models/token-model"},(0,r.kt)("strong",{parentName:"a"},"Token"))),(0,r.kt)("h3",{id:"operations"},"Operations"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Generate a token to get card's detail")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"POST")," ",(0,r.kt)("em",{parentName:"p"},"/api/cards/{card-id}/panToken")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"curl --location --request POST 'https://api.immersve.com/api/cards/{card-id}/panToken' \\\n    --header \"Authorization: Bearer $IMMERSVE_JWT_TOKEN\"\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RESPONSE"),":"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Schema"),":"),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"../../models/currency-model"},(0,r.kt)("strong",{parentName:"a"},"Token")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"EXAMPLE RESPONSE PAYLOAD"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "tokenId": "1E2426184B3676720F36E43A22649AFF-1000041153",\n}\n\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Get the card's details from E6 mobile API")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"POST")," ",(0,r.kt)("em",{parentName:"p"},"E6_MOBILE_BASE_URL/v1/auth/pan/token/validate")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"curl --location --request POST 'https://E6_MOBILE_BASE_URL/v1/auth/pan/token/validate' \\\n    --data-raw '{\n        \"tokenId\":\"A token got from above operation\"\n    }'\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RESPONSE"),":"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Schema"),":"),(0,r.kt)("p",{parentName:"blockquote"},"The schema is defined in external provider's website\nThe response must contains fields: pan and cvv2")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"EXAMPLE RESPONSE PAYLOAD"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "creationTime": 1663888904887,\n    "modifiedTime": 1663888904887,\n    "id": "1F63FE470D29ABC5C727570C1AD42B82-1000041003",\n    "cardNumber": "5713851215688026472",\n    "panFirst6": "424211",\n    "panLast4": "0528",\n    "type": "virtual",\n    "state": "activated",\n    "sequenceNumber": 1,\n    "cardProfileName": "Test card",\n    "pinFailCount": 0,\n    "reissue": false,\n    "expiry": "202409",\n    "customerNumber": "10000021250574",\n    "embossedName": "CARDHOLDER/IMMERSVE",\n    "programName": "vcc",\n    "pan": "<the full pan of the card>",\n    "cvv2": "<the cvv2 of the card>"\n}\n')))}i.isMDXComponent=!0}}]);