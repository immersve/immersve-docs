tags: [payments]
summary: Payment Cleared
operationId: payment-cleared
description: |
  Triggered when a payment is cleared.

requestBody:
  content:
    application/json:
      schema:
        allOf:
          - type: object
            properties:
              topic:
                type: string
                example: "payment-cleared"
              payload:
                type: object
                properties:
                  eventType:
                    type: string
                    example: "clearing-accepted"
                    description: |
                      The payment lifecycle event which triggered the message.
                  eventTimestamp:
                    type: string
                    format: date-time
                    example: "2026-01-07T10:15:30Z"
                    description: |
                      The timestamp for the event that triggered the message.
                  paymentId:
                    type: string
                    example: "38fb58acc55b4907a1e2b4c890e567f3"
                    description: |
                      Immersve payment identifier.
                  paymentAmount:
                    type: string
                    example: "5000"
                    description: |
                      Total payment amount that the cardholder will be debited in minor units.
                  paymentCurrency:
                    type: string
                    example: "USD"
                    description: |
                      Expected payment currency which will be the same as the billing funding source.
                  paymentAcquirerAmount:
                    type: string
                    example: "5000"
                    description: |
                      Payment amount represented in the merchant's local currency. The amount will use fiat minor units.
                  paymentAcquirerCurrency:
                    type: string
                    example: "USD"
                    description: |
                      The merchant's local currency.
                  paymentFeeAmount:
                    type: string
                    example: "50"
                    description: |
                      The fee amount of the payment in minor units.
                  paymentFinalized:
                    type: boolean
                    example: true
                    description: |
                      Flag indicating if the payment is expected to have further updates.
                  paymentType:
                    type: string
                    example: "purchase"
                    description: |
                      The type of payment: purchase, refund, or adjustment.
                  fundingSourceId:
                    type: string
                    example: "c65fe4d184a24619b3e8f2c7a9d15e42"
                    description: |
                      Immersve funding source identifier.
                  fundingSourceExternalId:
                    type: string
                    example: "ext-abc123def456"
                    description: |
                      The custodial account external reference stored on the Immersve funding source.
                  cardholderId:
                    type: string
                    example: "d44d045826d4484c9b7f1e3a5c8d2f6b"
                    description: |
                      Immersve cardholder account id.
                  cardId:
                    type: string
                    example: "9ae177ea85ed4128b2c3d5f6e7a9c8d4"
                    description: |
                      Immersve card identifier.
                  merchantId:
                    type: string
                    example: "92102062388908"
                    description: |
                      The merchant identifier from the payment network.
                  merchantName:
                    type: string
                    example: "Example Store"
                    description: |
                      The merchant's name.
                  merchantCountryCode:
                    type: string
                    example: "US"
                    description: |
                      The merchant's ISO-3166-1 Alpha-2 country code.
                  merchantCity:
                    type: string
                    example: "New York"
                    description: |
                      The merchant's city name.
                  merchantTerminalId:
                    type: string
                    example: "term-001"
                    description: |
                      The merchant's payment terminal identifier.
                  merchantCategoryCode:
                    type: string
                    example: "5411"
                    description: |
                      The merchant's ISO-18245 category code.
                  relatedPaymentId:
                    type: string
                    example: "88080af5b8a14fe6c3d7e9f2a5b8c1d6"
                    description: |
                      The original authorization payment ID
          - $ref: "./webhook-envelope.yaml"
