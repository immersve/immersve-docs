tags: [payments]
summary: Payment Authorization Cancelled
operationId: payment-auth-cancelled
description: |
  Triggered when a payment authorization is cancelled.

requestBody:
  content:
    application/json:
      schema:
        allOf:
          - type: object
            properties:
              topic:
                type: string
                example: "payment-auth-cancelled"
              payload:
                type: object
                properties:
                  eventType:
                    type: string
                    example: "auth-declined"
                    description: |
                      The payment lifecycle event which triggered the message.
                  eventTimestamp:
                    type: string
                    format: date-time
                    example: "2026-01-06T10:15:31Z"
                    description: |
                      The timestamp for the event that triggered the message.
                  paymentId:
                    type: string
                    example: "38fb58acc55b4907a1e2b4c890e567f3"
                    description: |
                      Immersve payment transaction identifier.
                  paymentAmount:
                    type: string
                    example: "5000"
                    description: |
                      Total payment amount that the cardholder will be debited in minor units.
                  paymentCurrency:
                    type: string
                    example: "USD"
                    description: |
                      Expected payment currency which will be the same as the billing funding source.
                  paymentAcquirerAmount:
                    type: string
                    example: "5000"
                    description: |
                      Payment amount represented in the merchant's local currency. The amount will use fiat minor units.
                  paymentAcquirerCurrency:
                    type: string
                    example: "USD"
                    description: |
                      The merchant's local currency.
                  paymentFeeAmount:
                    type: string
                    example: "0"
                    description: |
                      Immersve's fee portion of the payment amount in minor units.
                  paymentFinalized:
                    type: boolean
                    example: false
                    description: |
                      Flag indicating if the payment is expected to have further updates.
                  paymentType:
                    type: string
                    example: "purchase"
                    description: |
                      The type of payment: purchase, refund, or adjustment.
                  fundingSourceId:
                    type: string
                    example: "c65fe4d184a24619b3e8f2c7a9d15e42"
                    description: |
                      Immersve funding source identifier.
                  fundingSourceExternalId:
                    type: string
                    example: "ext-abc123def456"
                    description: |
                      The custodial account external reference stored on the Immersve funding source.
                  cardholderId:
                    type: string
                    example: "d44d045826d4484c9b7f1e3a5c8d2f6b"
                    description: |
                      Immersve cardholder account id.
                  cardId:
                    type: string
                    example: "9ae177ea85ed4128b2c3d5f6e7a9c8d4"
                    description: |
                      Immersve card identifier.
                  merchantId:
                    type: string
                    example: "92102062388908"
                    description: |
                      The merchant identifier from the payment network.
                  merchantName:
                    type: string
                    example: "Example Store"
                    description: |
                      The merchant's name.
                  merchantCountryCode:
                    type: string
                    example: "US"
                    description: |
                      The merchant's ISO-3166-1 Alpha-2 country code.
                  merchantCity:
                    type: string
                    example: "New York"
                    description: |
                      The merchant's city name.
                  merchantTerminalId:
                    type: string
                    example: "term-001"
                    description: |
                      The merchant's payment terminal identifier.
                  merchantCategoryCode:
                    type: string
                    example: "5411"
                    description: |
                      The merchant's ISO-18245 category code.
                  cancelReason:
                    type: string
                    example: "float-depleted"
                    description: |
                      The discriminator indicating the reason for an auth cancellation message.
                  securityChallengeOutcome:
                    type: string
                    example: "failed"
                    description: |
                      The discriminator indicating the outcome of the 3DS challenge, if applicable.
                  securityChallengeRef:
                    type: string
                    example: "51661658-65f8-49d3-a3c0-9f0566671132"
                    description: |
                      The 3DS challenge identifier, if applicable. This reference can be used to correlate the payment to the Payment 3DS OTP webhook.
          - $ref: "./webhook-envelope.yaml"
