tags: [xpay]
summary: XPay Card Load Confirmed
operationId: xpay-card-load-confirmed
description: |
  Triggered when a card has been successfully enabled for use with XPay
  (Googlepay, Applepay or similar). Subscribers should use this event to inform
  the cardholder, via email, that their card is ready to use
  with XPay.

requestBody:
  content:
    application/json:
      schema:
        allOf:
          - type: object
            properties:
              topic:
                type: string
                enum: ["xpay-card-load-confirmed"]
              payload:
                type: object
                required:
                  - xpayType
                  - cardholderId
                  - cardId
                  - cardPanLast4
                  - cardProgramId
                properties:
                  xpayType:
                    type: string
                    example: "google"
                    enum: [apple, generic, google]
                    description: |
                      Type of XPay being used.

                  cardholderId:
                    type: string
                    example: "e8e48f309cfc11f08711"
                    description: |
                      The Immersve cardholder's account id.

                  cardId:
                    type: string
                    example: "e2b6ae409cfc11f098ac"
                    description: |
                      The Immersve card id for the card being loaded.

                  cardPanLast4:
                    type: string
                    example: "4567"
                    description: |
                      The last four digits of the card PAN.

                  cardProgramId:
                    type: string
                    example: "83dee5409cfc11f0a1e6"
                    description: |
                      The Immersve card program id for the card.

          - $ref: "./webhook-envelope.yaml"

responses:
  '200':
    $ref: "../models/delivery-options-response.yaml"
