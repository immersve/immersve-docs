---
import type { Props } from '../props';

import MobileTableOfContents from 'virtual:starlight/components/MobileTableOfContents';
import TocList from './TocList.astro';

const { toc } = Astro.props;
---

<div class="lg:hidden">
  <MobileTableOfContents {...Astro.props} />
</div>
<div class="right-sidebar-panel hidden lg:block min-w-56 w-72">
{ toc && (
    <starlight-toc data-min-h={toc.minHeadingLevel} data-max-h={toc.maxHeadingLevel}>
      <div class="hidden lg:block
      sticky top-[4.75rem] -mr-6
      h-[calc(100vh-4.75rem)] flex-none overflow-y-auto pt-4 pb-16 pr-6">
        <nav aria-labelledby="on-this-page-title">
          <h2 id="on-this-page-title"
            class="font-display text-md font-medium text-slate-900 dark:text-white"
          >
            On This Page
          </h2>
          <TocList items={toc.items} />
        </nav>
      </div>
    </starlight-toc>
)}
</div>

<script src="../TableOfContents/starlight-toc"></script>
