<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar class="astro-4kej2mf5"> <head><meta property="og:image" content="https://docs.immersve.com/_astro/card-whoosh-600.0dS5k5Ud_zRl3f.png"><meta name="twitter:image" content="https://docs.immersve.com/_astro/card-whoosh-600.0dS5k5Ud_zRl3f.png"><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Universal EVM Smart Contract | Immersve Docs</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><meta name="generator" content="Astro v4.3.2"/><meta name="generator" content="Starlight v0.16.0"/><meta property="og:title" content="Universal EVM Smart Contract"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="Oveview of Immersve's Universal EVM funding smart contract."/><meta property="og:site_name" content="Immersve Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Universal EVM Smart Contract"/><meta name="twitter:description" content="Oveview of Immersve's Universal EVM funding smart contract."/><meta name="description" content="Oveview of Immersve's Universal EVM funding smart contract."/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.PwwIfK0q.css" /><script type="module" src="/_astro/hoisted.WvxfGePF.js"></script>
<script type="module" src="/_astro/page.X_0NJa-z.js"></script></head> <body class="astro-4kej2mf5"> <a href="#_top" class="astro-v4amb3h5">Skip to content</a>  <div class="page sl-flex astro-7iwgh2up"> <header class="header astro-7iwgh2up"><div class="header sl-flex astro-w7akuxwj"> <div class="sl-flex astro-w7akuxwj"> <a href="/" class="site-title sl-flex astro-mplbifgk">  <img class="astro-mplbifgk" alt="" src="/_astro/logo-small.y7dWTmTq.svg" width="24" height="24">  <span class="astro-mplbifgk"> Immersve Docs </span> </a>  </div> <div class="sl-flex astro-w7akuxwj"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-p45zlzkx"> <button data-open-modal disabled class="astro-p45zlzkx">  <svg aria-label="Search" class="astro-p45zlzkx astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-p45zlzkx" aria-hidden="true">Search</span> <svg aria-label="(Press / to Search)" class="sl-hidden md:sl-block astro-p45zlzkx astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5Zm3 15a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10Z"/><path d="M15.293 6.707a1 1 0 1 1 1.414 1.414l-8.485 8.486a1 1 0 0 1-1.414-1.415l8.485-8.485Z"/></svg>  </button> <dialog style="padding:0" aria-label="Search" class="astro-p45zlzkx"> <div class="dialog-frame sl-flex astro-p45zlzkx">  <button data-close-modal class="sl-flex md:sl-hidden astro-p45zlzkx"> Cancel </button> <div class="search-container astro-p45zlzkx"> <div id="starlight__search" class="astro-p45zlzkx"></div> </div> </div> </dialog> </site-search>    </div> <div class="sl-hidden md:sl-flex right-group astro-w7akuxwj"> <div class="sl-flex social-icons astro-w7akuxwj"> <a href="https://github.com/immersve/" rel="me" class="sl-flex astro-wwc4ysa4"><span class="sr-only astro-wwc4ysa4">GitHub</span><svg aria-hidden="true" class="astro-wwc4ysa4 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-pr4lcrjc"> <span class="sr-only astro-pr4lcrjc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-pr4lcrjc"> <option value="dark" class="astro-pr4lcrjc">Dark</option><option value="light" class="astro-pr4lcrjc">Light</option><option value="auto" selected="true" class="astro-pr4lcrjc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-7iwgh2up" aria-label="Main"> <starlight-menu-button class="astro-h4z3qg4h"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-h4z3qg4h"> <svg aria-hidden="true" class="astro-h4z3qg4h astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-7iwgh2up"> <div class="sidebar-content sl-flex astro-7iwgh2up"> <ul class="top-level astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Use Cases</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/use-cases/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Introduction</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/use-cases/custodial-wallets/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Custodial Wallets</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/use-cases/non-custodial-wallets/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Non-Custodial Wallets</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Introduction</span>  </a> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Core Concepts</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/card-payments-101/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Payments 101</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/card-funding/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Funding</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/card-lifecycle/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Lifecycle</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/monetary-units/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Monetary Units</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Card Issuing Apps</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/add-card-to-xpay-wallet/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Adding Cards to xPay Wallets</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/complete-headless-kyc-checks/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Complete headless KYC checks</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/fetching-secure-card-information/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Fetching Secure Card Information</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/issue-a-virtual-card/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Issue a Virtual Card</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Funding Protocols</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/universal-evm-smart-contract/" aria-current="page" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Universal EVM Smart Contract</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Reports</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Reports</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/reports/authorization-reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Authorization Reports</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/reports/clearing-reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Clearing Reports</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Testing</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/simulator/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Payment Simulator</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <a href="/guides/authentication" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Authentication</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/http-status-codes" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">HTTP Status Codes</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/webhooks" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Webhooks</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/cardholder-support" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Cardholder Support</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Resources</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/resources/smart-contracts/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Smart Contracts</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <a href="/api-reference/" class="large astro-l6dzxg3o"> <span class="astro-l6dzxg3o">API Reference</span>  </a> </li> </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-3fag6jyh"> <div class="sl-flex social-icons astro-3fag6jyh"> <a href="https://github.com/immersve/" rel="me" class="sl-flex astro-wwc4ysa4"><span class="sr-only astro-wwc4ysa4">GitHub</span><svg aria-hidden="true" class="astro-wwc4ysa4 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-pr4lcrjc"> <span class="sr-only astro-pr4lcrjc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-pr4lcrjc"> <option value="dark" class="astro-pr4lcrjc">Dark</option><option value="light" class="astro-pr4lcrjc">Light</option><option value="auto" selected="true" class="astro-pr4lcrjc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-7iwgh2up">  <div class="lg:sl-flex astro-syeucc3b"> <aside class="right-sidebar-container astro-syeucc3b"> <div class="right-sidebar astro-syeucc3b"> <div class="lg:sl-hidden astro-evjamce5"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-4csglwav"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-4csglwav"><details id="starlight__mobile-toc" class="astro-4csglwav"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-4csglwav"><div class="toggle sl-flex astro-4csglwav">On this page<svg aria-hidden="true" class="caret astro-4csglwav astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-4csglwav"></span></summary><div class="dropdown astro-4csglwav"><ul class="isMobile astro-kzs6ghjc" style="--depth: 0;"> <li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#_top" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#components" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Components</span> </a> <ul class="isMobile astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#funds-manager-contract" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Funds Manager Contract</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#funds-storage-contract" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Funds Storage Contract</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deposits" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deposits</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deployed-contract-addresses" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deployed Contract Addresses</span> </a> <ul class="isMobile astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#mainnet" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Mainnet</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#testnet" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Testnet</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#creating-a-funds-storage-instance" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Creating a Funds Storage Instance</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-evjamce5"><div class="sl-container astro-evjamce5"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-kzs6ghjc" style="--depth: 0;"> <li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#_top" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#components" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Components</span> </a> <ul class="astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#funds-manager-contract" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Funds Manager Contract</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#funds-storage-contract" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Funds Storage Contract</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deposits" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deposits</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deployed-contract-addresses" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deployed Contract Addresses</span> </a> <ul class="astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#mainnet" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Mainnet</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#testnet" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Testnet</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#creating-a-funds-storage-instance" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Creating a Funds Storage Instance</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-syeucc3b">  <main data-pagefind-body lang="en" dir="ltr" class="astro-4kej2mf5">    <div class="content-panel astro-rp37vfpc"> <div class="sl-container astro-rp37vfpc"> <h1 id="_top" class="astro-yon6dedw">Universal EVM Smart Contract</h1>  </div> </div>  <div class="content-panel astro-rp37vfpc"> <div class="sl-container astro-rp37vfpc"> <div class="flex-auto prose dark:prose-invert [html_:where(&#38;>*)]:mx-auto [html_:where(&#38;>*)]:max-w-2xl [html_:where(&#38;>*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(&#38;>*)]:lg:max-w-3xl">  <article><p>The Immersve Universal EVM protocol allows client applications to fund Immersve cards via simple ERC-20 transfers. Depositors can withdraw funds at any time with signed withdrawal approvals. Depositor funds can only be settled to Immersve’s approved settlement address. Deposits are scoped to the client application that registers the Funds Storage contract as an Immersve Funding Channel.</p><h2 id="components">Components</h2><p><img src="/_astro/overview-2.6GCB3p_K_ZTGrV2.webp" alt="polygonscan-contract-landing" width="2588" height="1545" loading="lazy" decoding="async"></p><h3 id="funds-manager-contract">Funds Manager Contract</h3><p>The Funds Manager contract is the main entry point and is a factory for Funds Storage contracts. It is also used by Immersve for performing administrative operations. The <code>createFundsStorage</code> function can be used by any message signer to deploy a Funds Storage contract address.</p><h3 id="funds-storage-contract">Funds Storage Contract</h3><p>Funds Storage contracts are the target for depositor ERC-20 transfers. The Funds Storage contract is scoped to the integrating application. It only needs to be deployed once for all depositors. After it has been deployed it must be registered with the Immersve backend using the <a href="https://docs.immersve.com/api-reference/create-a-funding-channel">Create Funding Channel API</a>.</p><h2 id="deposits">Deposits</h2><p>Depositors can send ERC-20 transfers directly to the Funds Storage address. Each depositor address needs to have a <a href="https://docs.immersve.com/api-reference/create-a-funding-source-for-an-account">Funding Source</a> created that is linked with the Funding Channel. After an ERC-20 transfer transaction is confirmed, the connected Funding Source will be credited to the customer funding source to use with a card.</p><p>The <a href="https://docs.immersve.com/api-reference/get-spending-prerequisites">Spending Pre-requisites API</a> can be used to reliably obtain the Web3 transaction parameters for depositing into a Funding Source.</p><p>When a Funding Source is created, any deposits made prior to the creation of the Funding Source and associated with the depositing address will be credited immediately.</p><h2 id="deployed-contract-addresses">Deployed Contract Addresses</h2><p>The Funds Manager contract is designed to work on any EVM. Currently supported chains and their contract address can be found below:</p><div class="my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 16 16" aria-hidden="true" class="mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200"> <circle cx="8" cy="8" r="8" stroke-width="0"></circle> <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 7.75h1.5v3.5"></path> <circle cx="8" cy="4" r=".5" fill="none"></circle> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <p>Do not transfer assets directly to these addresses or funds will be lost. Always use the spending prerequisites endpoint to discover the correct address for user deposits.</p> </div> </div><h3 id="mainnet">Mainnet</h3><div class="overflow-x-auto"> <table> <thead> <tr> <th>Chain</th> <th>Tokens</th> <th>Funds Manager Address</th> <th>Funding Type</th> </tr> </thead> <tbody> <tr> <td><nobr>Polygon POS</nobr></td> <td> <nobr><a href="https://polygonscan.com/token/0x3c499c542cef5e3811e1192ce70d8cc03d5c3359">USDC</a></nobr> </td> <td><a href="https://polygonscan.com/address/0xcd1c3d1c12437bD0375E3C4331771b31220125Bd#writeProxyContract">0xcd1c3d1c12437bD0375E3C433177<wbr>1b31220125Bd</a></td> <td><nobr><code>polygon-usdc-universal-evm-live</code></nobr></td> </tr> </tbody> </table> </div><h3 id="testnet">Testnet</h3><div class="overflow-x-auto"> <table> <thead> <tr> <th>Chain</th> <th>Tokens</th> <th>Funds Manager Address</th> <th>Funding Type</th> </tr> </thead> <tbody> <tr> <td><nobr>Ethereum Sepolia</nobr></td> <td> <nobr><a href="https://sepolia.etherscan.io/address/0x82dC5145E1A5D0cf8caCDc3a9c68cAae7a7603D9">IMMUSDC</a></nobr> </td> <td><a href="https://sepolia.etherscan.io/address/0xe50ff3c352c0176c12c0a130dca7655ec518fc40#writeProxyContract">0xe50FF3C352C0176c12c0a130dCa7<wbr>655eC518fc40</a></td> <td><nobr><code>ethereum-usdc-universal-evm-test</code></nobr></td> </tr><tr> <td><nobr>Polygon Mumbai</nobr></td> <td> <nobr><a href="https://mumbai.polygonscan.com/address/0x2FaC06acFAeB42CC3B5327fcF53F48D9Da72749d">IMMUSDC</a></nobr> </td> <td><a href="https://mumbai.polygonscan.com/address/0xe50FF3C352C0176c12c0a130dCa7655eC518fc40#writeProxyContract">0xe50FF3C352C0176c12c0a130dCa7<wbr>655eC518fc40</a></td> <td><nobr><code>polygon-usdc-universal-evm-test</code></nobr></td> </tr> </tbody> </table> </div><h2 id="creating-a-funds-storage-instance">Creating a Funds Storage Instance</h2><p>Once a Funds Manager Address is selected, open it in it’s corresponding Etherscan like page link from the tables above. We are going to use the Polygon one as an example:</p><p>Link will land in the following page:</p><p><img src="/_astro/polygonscan-contract-landing.vvNrYC0t_Z1fxJO1.webp" alt="polygonscan-contract-landing" width="1201" height="784" loading="lazy" decoding="async"></p><ol><li><p>Open the <code>Contract</code> section</p></li><li><p>Open the <code>Write as Proxy</code> section</p></li><li><p>Connect with the desired web3 wallet:</p><p><img src="/_astro/polygonscan-connect-web3.T55S6XHO_Z5fLiN.webp" alt="polygonscan-connect-web3" width="149" height="46" loading="lazy" decoding="async"></p></li><li><p>Some Etherscan like pages will give a warning like the following.</p><p><img src="/_astro/polygonscan-disclosure.yh3LS6CU_2atjsr.webp" alt="polygonscan-disclosure" width="458" height="231" loading="lazy" decoding="async"></p><p>It can be ignored. Press OK to continue</p></li><li><p>Select the desired wallet connection mechanism</p><p><img src="/_astro/polygonscan-connect-wallet.IEzwLawy_1cdk54.webp" alt="polygonscan-connect-wallet" width="513" height="286" loading="lazy" decoding="async"></p></li><li><p>Accept the connection in the wallet</p></li><li><p>Once the wallet is connected, the following indicator should turn green and would indicate the connected wallet address</p><p><img src="/_astro/polygonscan-wallet-connected.Z5Th2PHa_lE2SG.webp" alt="polygonscan-wallet-connected" width="253" height="51" loading="lazy" decoding="async"></p></li><li><p>Now that the wallet is connected, the next step is to actually create the Funds Storage instance. This is done via the <code>createFundsStorage</code> function on the contract, and it can be invoked directly here:</p><p><img src="/_astro/create-funds-storage-emtpy.jpIZFVEF_Z4sdo6.webp" alt="create-funds-storage-emtpy" width="1155" height="228" loading="lazy" decoding="async"></p></li><li><p>Token address is the ERC-20 token that the integrator wants to support. Grab the address of the supported token from the table above. Integrator can provide any alphanumeric name for their own reference. Here is an example with the IMMUSDC token address:</p><p><img src="/_astro/create-funds-storage-sample.zUnwGxRD_1u0hX3.webp" alt="create-funds-storage-sample" width="1144" height="232" loading="lazy" decoding="async"></p></li><li><p>Click on <code>Write</code> to submit the transaction</p></li><li><p>Accept the transaction on the connected wallet. Once the transaction is accepted on the wallet, it is submitted to the blockchain and a button will appear to keep track of the transaction:</p><p><img src="/_astro/create-funds-storage-submitted.54K-yx1P_C20M0.webp" alt="create-funds-storage-submitted" width="368" height="227" loading="lazy" decoding="async"></p></li><li><p>This will open up the transaction details page. Details will appear once the transaction is confirmed so it can take up a few seconds to show up</p><p><img src="/_astro/create-funds-storage-trx.g2W94m4i_Z20HmjA.webp" alt="create-funds-storage-trx" width="951" height="640" loading="lazy" decoding="async"></p></li><li><p>Go To the <code>Logs</code> section and find the <code>FundsStorageCreated</code> event log:</p><p><img src="/_astro/create-funds-storage-trx-logs.Z3B-4Sxn_23n2vR.webp" alt="create-funds-storage-trx-logs" width="1075" height="790" loading="lazy" decoding="async"></p></li><li><p>In this example, the created funds storage instance address is <code>0x53C6A0cd42d8115B84BE3D5458b6cde15428752D</code></p></li><li><p>Use the created funds storage address as the storageAddress in the <a href="https://docs.immersve.com/api-reference/create-a-funding-channel">Create Funding Channel</a> endpoint</p></li></ol></article>  </div> <footer class="astro-dwnbuzcn"> <div class="meta sl-flex astro-dwnbuzcn"> <a href="https://github.com/immersve/immersve-docs/edit/main/imsv-docs-astro/src/content/docs/guides/funding-protocols/universal-evm-smart-contract.mdoc" class="sl-flex astro-p4gfue55"><svg aria-hidden="true" class="astro-p4gfue55 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg> Edit page</a>  </div> <div class="flex"> <div class="flex flex-col items-start gap-3"> <a href="/guides/issue-a-virtual-card/" class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition not-prose rounded-full bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -ml-1 rotate-180"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path> </svg>Previous</a> <a href="/guides/issue-a-virtual-card/" tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300"> Issue a Virtual Card </a> </div> <div class="ml-auto flex flex-col items-end gap-3"> <a href="/guides/reports/" class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition not-prose rounded-full bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300">Next<svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -mr-1"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path> </svg></a> <a href="/guides/reports/" tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300"> Reports </a> </div> </div>  <div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40 mt-10"> <div class="relative px-4 sm:px-8 lg:px-12"> <div class="mx-auto max-w-2xl lg:max-w-5xl"> <div class="flex flex-col items-center justify-between gap-6 sm:flex-row"> <div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-xs font-medium text-zinc-800 dark:text-zinc-200"> <a href="https://immersve.com/">Sales</a> <a href="https://help.immersve.com/">Support</a> <a href="https://docs.immersve.com/">Docs</a> <a href="https://docs.immersve.com/api-reference/">APIs</a> </div> <p class="text-xs text-zinc-600 dark:text-zinc-500">
&copy; Copyright 2024 Immersve. All rights reserved.
</p> </div> </div> </div> </div> </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>