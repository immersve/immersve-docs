<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/non-custodial wallets/issue-a-virtual-card">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Issue a Virtual Card | Immersve Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.immersve.com/guides/non-custodial wallets/issue-a-virtual-card"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Issue a Virtual Card | Immersve Documentation"><meta data-rh="true" name="description" content="A virtual card is a payment card that exists only in digital form. As such, virtual cards are most suitable for online e-commerce purchases as opposed to in-store purchases at brick-and-mortar merchants. Immersve treat virtual cards as being logically time-bound and ephemeral. Beginning at the time of issuance of a virtual card, it has a finite useable lifespan which is often represented within the UI of the issuing client application as a stopwatch-type timer. This model presents certain benefits over a traditional persistent payment card model (be they virtual, tokenized or physical) in that the potential for card fraud is dramatically reduced. The use of web3-native authentication mechanisms within the context of card issuance mean that the same level of protection to a user&#x27;s funds in self-custodial wallets is applied to their activities as a cardholder."><meta data-rh="true" property="og:description" content="A virtual card is a payment card that exists only in digital form. As such, virtual cards are most suitable for online e-commerce purchases as opposed to in-store purchases at brick-and-mortar merchants. Immersve treat virtual cards as being logically time-bound and ephemeral. Beginning at the time of issuance of a virtual card, it has a finite useable lifespan which is often represented within the UI of the issuing client application as a stopwatch-type timer. This model presents certain benefits over a traditional persistent payment card model (be they virtual, tokenized or physical) in that the potential for card fraud is dramatically reduced. The use of web3-native authentication mechanisms within the context of card issuance mean that the same level of protection to a user&#x27;s funds in self-custodial wallets is applied to their activities as a cardholder."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.immersve.com/guides/non-custodial wallets/issue-a-virtual-card"><link data-rh="true" rel="alternate" href="https://docs.immersve.com/guides/non-custodial wallets/issue-a-virtual-card" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.immersve.com/guides/non-custodial wallets/issue-a-virtual-card" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c574d964.css">
<link rel="preload" href="/assets/js/runtime~main.5a261554.js" as="script">
<link rel="preload" href="/assets/js/main.ea49a549.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-light.png" alt="Immersve Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.png" alt="Immersve Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/guides/introduction">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/custodial-wallets">Custodial Wallets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Custodial Wallets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/category/non-custodial-wallets">Non-Custodial Wallets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Non-Custodial Wallets&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/non-custodial wallets/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/non-custodial wallets/card-lifecycle">Card Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/non-custodial wallets/issue-a-virtual-card">Issue a Virtual Card</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/category/api-reference">API Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-reference/immersve-api">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/authentication">Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/accounts-custodial">Accounts (Custodial)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Accounts (Custodial)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/assets">Assets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Assets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/asset-activities">Asset activities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Asset activities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/card">Cards</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/cards-custodial">Cards (Custodial)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cards (Custodial)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/currency">Currency</a><button aria-label="Toggle the collapsible sidebar category &#x27;Currency&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/transactions">Transactions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transactions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/kyc-custodial">KYC (Custodial)</a><button aria-label="Toggle the collapsible sidebar category &#x27;KYC (Custodial)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/api-reference/prerequisites">Prerequisites</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prerequisites&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/contracts/payment-protocol">Smart Contracts</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/non-custodial-wallets"><span itemprop="name">Non-Custodial Wallets</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Issue a Virtual Card</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="row"><div class="col col--12"><h1>Issue a Virtual Card</h1><p>A virtual card is a payment card that exists only in digital form. As such, virtual cards are most suitable for online e-commerce purchases as opposed to in-store purchases at brick-and-mortar merchants. Immersve treat virtual cards as being logically time-bound and ephemeral. Beginning at the time of issuance of a virtual card, it has a finite useable lifespan which is often represented within the UI of the issuing client application as a stopwatch-type timer. This model presents certain benefits over a traditional persistent payment card model (be they virtual, tokenized or physical) in that the potential for card fraud is dramatically reduced. The use of web3-native authentication mechanisms within the context of card issuance mean that the same level of protection to a user&#x27;s funds in self-custodial wallets is applied to their activities as a cardholder.</p><p>Prior to being permitted to <a href="/api-reference/order-card">order a card</a> a user must first have successfully <a href="/guides/non-custodial wallets/authentication">authenticated</a> and locked digital assets within the smart contract via digital asset transfer and smart contract invocations as instructed by the <a href="/api-reference/get-prerequisite-transactions">get prerequisite transactions</a> operation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">​</a></h2><p>The authentication processes is described in the <a href="/guides/non-custodial wallets/authentication">authentication guide</a>. As the user account is anchored by control of the private key, there is no distinct prior explicit registration or signup process needed before authenticating.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="currency-conversion">Currency Conversion<a class="hash-link" href="#currency-conversion" title="Direct link to heading">​</a></h2><p>A user will more often than not be quoted a price for a purchase by a merchant in a fiat currency. In order to determine the sufficient amount of digital assets to fund a card and be made available for the purchase, you will retrieve the amount from the <a href="/api-reference/currency-conversion">currency conversion</a> API endpoint.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lock-funds">Lock Funds<a class="hash-link" href="#lock-funds" title="Direct link to heading">​</a></h2><p>In order to ensure that funds are sufficiently locked within the <a href="/contracts/payment-protocol">smart contract</a> such that Immersve are in a position to approve an authorization request received via the card scheme network you will need to have firstly locked sufficient digital assets within the smart contract via digital asset transfer and smart contract invocations as instructed by the <a href="/api-reference/get-prerequisite-transactions">get prerequisite transactions</a> operation. The necessary blockchain transactions are contained within the <code>requiredTransactions</code> collection returned.</p><p>If the user has not transacted using the solution before then the the <a href="/api-reference/get-prerequisite-transactions">get prerequisite transactions</a> response will typically call for and <code>erc20_approval</code> in favour of the smart contract followed by a <code>depositAndCreateLockedFund</code> invocation of the smart contract.</p><p>If multiple transactions are present then they should be carried out in the order in which they are presented.</p><p>The client application is to parse and formulate the raw blockchain transaction message such that it is presented to the user within the web3 wallet and signed and sent to the relevant blockchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wallet-funding-for-development-and-testing">Wallet Funding for Development and Testing<a class="hash-link" href="#wallet-funding-for-development-and-testing" title="Direct link to heading">​</a></h3><p>To ensure that integrators are able to obtain sufficient ERC-20 tokens to facilitate development and testing, Immersve uses an ERC-20 token contract that allows tokens to be freely minted as needed.</p><p>In non-production environments any <code>erc20_approval</code> transaction type returned by <a href="/api-reference/get-prerequisite-transactions">get prerequisite transactions</a> will refer to the &quot;IMMUSDC&quot; token. The &quot;IMMUSDC&quot; token has a <code>mint</code> function allowing for the unlimited minting of the token to any wallet address.</p><p>One particularly convenient way to get the necessary tokens is to use the Polygonscan interface.</p><ul><li>Open the <a href="https://mumbai.polygonscan.com/address/0x2FaC06acFAeB42CC3B5327fcF53F48D9Da72749d#code" target="_blank" rel="noopener noreferrer">IMMUSDC token in Polygonscan</a></li><li>Click <code>Write as Proxy</code></li><li>Click <code>Connect to Web3</code> to connect your wallet with Polygonscan</li><li>Open the <code>mint</code> function</li><li>Set the destination wallet address (where assets are to be sent) in the <code>to</code> field. Set an amount in the <code>amount</code> field.</li><li>Initiate the web3 transaction clicking the <code>Write</code> button</li><li>Confirm the transaction in the web3 wallet and pay the gas fees</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="order-a-card">Order a Card<a class="hash-link" href="#order-a-card" title="Direct link to heading">​</a></h2><p>With the funds locked in the smart contract, it&#x27;s now time to order a card.</p><p>Call the <a href="/api-reference/order-card">order a card</a> operation to request Immersve to generate a card.</p><p>The returned card data returned in response to a <a href="/api-reference/order-card">order a card</a> request includes only truncated or masked sensitive data. Single-use virtual cards are activated and ready to use by default.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="issue-a-card">Issue a Card<a class="hash-link" href="#issue-a-card" title="Direct link to heading">​</a></h2><p>Having created an virtual card via the <a href="/api-reference/order-card">order a card</a> operation, you are in a position to be able to obtain the sensitive card details to be presented to the cardholder.</p><p>There are two steps in this process;</p><ol><li>firstly, obtaining a token for transmission to the client application to which the card details are to be provided (i.e. the application that will display the card data to the cardholder) and;</li><li>secondly, the exchange, by that client application, of the token for the card data.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>It is not recommended that the card token is supplied to any application other than one that resides within the cardholder environment (i.e. their mobile application or web application running in their browser) unless that system is sufficiently compliant with PCI-DSS requirements and is audited as such.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-a-card-token">Get a Card Token<a class="hash-link" href="#get-a-card-token" title="Direct link to heading">​</a></h3><p>Generate a single-use card <code>token</code> using <a href="/api-reference/get-a-card-token">the get a card token</a> operation. The token is typically then transmitted to the cardholder&#x27;s environment (i.e. web application or mobile application running in their web browser) to complete the final step completing the card issuance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-card-details">Get Card Details<a class="hash-link" href="#get-card-details" title="Direct link to heading">​</a></h3><p>To obtain the full PAN and CVV2 for display to the cardholder your client-side application should exchange the token for the sensitive card data via the <a href="/api-reference/get-secure-card-details">get secure card details</a> operation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-card-issuance-sequence-diagram">Virtual Card Issuance Sequence Diagram<a class="hash-link" href="#virtual-card-issuance-sequence-diagram" title="Direct link to heading">​</a></h2><div class="mermaid" data-mermaid-src="sequenceDiagram
    participant U as User
    participant C as API Client
    participant I as Immersve
    participant W as Wallet
    participant B as Blockchain
    note over U: Authentication as per authentication guide
    U-&gt;&gt;C: Input desired fiat card funding amount
    C-&gt;&gt;+I: Currency convert
    I--&gt;&gt;C: convertedAmount
    C-&gt;&gt;I: Get prerequisite transactions
    I--&gt;&gt;C: requiredTransactions collection
    loop For each required transaction
        C-&gt;&gt;C: Construct raw transaction message
        C-&gt;&gt;W: Transmit raw transaction to wallet
        U-&gt;&gt;W: Confirm / authorize transaction
        W-&gt;&gt;B: Transmit transaction
    end
    C-&gt;&gt;+I: Order card
    I--&gt;&gt;C: Non-sensitive card data
    C-&gt;&gt;+I: Get card token
    I--&gt;&gt;C: Card token
    C-&gt;&gt;I: Request sensitive card data
    I--&gt;&gt;C: Return sensitive card data
    C--&gt;&gt;U: Display sensitve card data">sequenceDiagram
    participant U as User
    participant C as API Client
    participant I as Immersve
    participant W as Wallet
    participant B as Blockchain
    note over U: Authentication as per authentication guide
    U-&gt;&gt;C: Input desired fiat card funding amount
    C-&gt;&gt;+I: Currency convert
    I--&gt;&gt;C: convertedAmount
    C-&gt;&gt;I: Get prerequisite transactions
    I--&gt;&gt;C: requiredTransactions collection
    loop For each required transaction
        C-&gt;&gt;C: Construct raw transaction message
        C-&gt;&gt;W: Transmit raw transaction to wallet
        U-&gt;&gt;W: Confirm / authorize transaction
        W-&gt;&gt;B: Transmit transaction
    end
    C-&gt;&gt;+I: Order card
    I--&gt;&gt;C: Non-sensitive card data
    C-&gt;&gt;+I: Get card token
    I--&gt;&gt;C: Card token
    C-&gt;&gt;I: Request sensitive card data
    I--&gt;&gt;C: Return sensitive card data
    C--&gt;&gt;U: Display sensitve card data</div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/card">card</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/virtual-card">virtual card</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/non-custodial">non-custodial</a></li></ul></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/non-custodial wallets/card-lifecycle"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Card Lifecycle</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/category/api-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Reference</div></a></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#currency-conversion" class="table-of-contents__link toc-highlight">Currency Conversion</a></li><li><a href="#lock-funds" class="table-of-contents__link toc-highlight">Lock Funds</a><ul><li><a href="#wallet-funding-for-development-and-testing" class="table-of-contents__link toc-highlight">Wallet Funding for Development and Testing</a></li></ul></li><li><a href="#order-a-card" class="table-of-contents__link toc-highlight">Order a Card</a></li><li><a href="#issue-a-card" class="table-of-contents__link toc-highlight">Issue a Card</a><ul><li><a href="#get-a-card-token" class="table-of-contents__link toc-highlight">Get a Card Token</a></li><li><a href="#get-card-details" class="table-of-contents__link toc-highlight">Get Card Details</a></li></ul></li><li><a href="#virtual-card-issuance-sequence-diagram" class="table-of-contents__link toc-highlight">Virtual Card Issuance Sequence Diagram</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Immersve. All rights reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5a261554.js"></script>
<script src="/assets/js/main.ea49a549.js"></script>
</body>
</html>