<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-4kej2mf5"> <head><meta property="og:image" content="https://docs.immersve.com/_astro/card-whoosh-600.DR1LmTlR_Z2fjzmT.png"><meta name="twitter:image" content="https://docs.immersve.com/_astro/card-whoosh-600.DR1LmTlR_Z2fjzmT.png"><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Custodial On-Chain Card Issuing Integration guide | Immersve Docs</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><meta name="generator" content="Astro v4.8.3"/><meta name="generator" content="Starlight v0.23.1"/><meta property="og:title" content="Custodial On-Chain Card Issuing Integration guide"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="End to end guide for custodial apps use on-chain deposits to pre-fund spending"/><meta property="og:site_name" content="Immersve Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Custodial On-Chain Card Issuing Integration guide"/><meta name="twitter:description" content="End to end guide for custodial apps use on-chain deposits to pre-fund spending"/><meta name="description" content="End to end guide for custodial apps use on-chain deposits to pre-fund spending"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.BLeGWhGm.css">
<style>svg:where(.astro-bzwfpdak){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
</style><script type="module" src="/_astro/hoisted.CEQ1Rq3R.js"></script>
<script type="module" src="/_astro/page.CZ0TFQCk.js"></script></head> <body class="astro-4kej2mf5"> <a href="#_top" class="astro-v4amb3h5">Skip to content</a>  <div class="page sl-flex astro-7iwgh2up"> <header class="header astro-7iwgh2up"><div class="header sl-flex astro-w7akuxwj"> <div class="title-wrapper sl-flex astro-w7akuxwj"> <a href="/" class="site-title sl-flex astro-mplbifgk">  <img class="astro-mplbifgk" alt="" src="/_astro/logo-small.DLt1ZOZO.svg" width="24" height="24">  <span class="astro-mplbifgk"> Immersve Docs </span> </a>  </div> <div class="sl-flex astro-w7akuxwj"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-p45zlzkx"> <button data-open-modal disabled class="astro-p45zlzkx">  <svg aria-label="Search" class="astro-p45zlzkx astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-p45zlzkx" aria-hidden="true">Search</span> <svg aria-label="(Press / to Search)" class="sl-hidden md:sl-block astro-p45zlzkx astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5Zm3 15a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10Z"/><path d="M15.293 6.707a1 1 0 1 1 1.414 1.414l-8.485 8.486a1 1 0 0 1-1.414-1.415l8.485-8.485Z"/></svg>  </button> <dialog style="padding:0" aria-label="Search" class="astro-p45zlzkx"> <div class="dialog-frame sl-flex astro-p45zlzkx">  <button data-close-modal class="sl-flex md:sl-hidden astro-p45zlzkx"> Cancel </button> <div class="search-container astro-p45zlzkx"> <div id="starlight__search" class="astro-p45zlzkx"></div> </div> </div> </dialog> </site-search>    </div> <div class="sl-hidden md:sl-flex right-group astro-w7akuxwj"> <div class="sl-flex social-icons astro-w7akuxwj"> <a href="https://github.com/immersve/" rel="me" class="sl-flex astro-wwc4ysa4"><span class="sr-only astro-wwc4ysa4">GitHub</span><svg aria-hidden="true" class="astro-wwc4ysa4 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-pr4lcrjc"> <span class="sr-only astro-pr4lcrjc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-pr4lcrjc"> <option value="dark" class="astro-pr4lcrjc">Dark</option><option value="light" class="astro-pr4lcrjc">Light</option><option value="auto" selected="true" class="astro-pr4lcrjc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-7iwgh2up" aria-label="Main"> <starlight-menu-button class="astro-h4z3qg4h"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-h4z3qg4h"> <svg aria-hidden="true" class="astro-h4z3qg4h astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-7iwgh2up"> <div class="sidebar-content sl-flex astro-7iwgh2up"> <ul class="top-level astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Use Cases</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/use-cases/custodial-wallets/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Custodial Wallets</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/use-cases/non-custodial-wallets/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Non-Custodial Wallets</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Core Concepts</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/card-payments-101/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Payments 101</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/card-funding/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Funding</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/card-lifecycle/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Card Lifecycle</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/monetary-units/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Monetary Units</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Card Issuing Apps</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/add-card-to-xpay-wallet/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Adding Cards to xPay Wallets</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/creating-a-funding-channel/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Creating a Funding Channel</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/custodial-on-chain-card-issuing-integration/" aria-current="page" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Custodial On-Chain Card Issuing Integration guide</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/fetching-secure-card-information/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Fetching Secure Card Information</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/issue-a-virtual-card/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Issue a Virtual Card</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">KYC</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/kyc" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Introduction</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/partner-conducted-kyc" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Partner Conducted KYC</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/immersve-conducted-kyc" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Immersve Conducted KYC</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Funding Protocols</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/funding-protocols/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Funding Protocols</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/algorand-funding-protocol/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Algorand Funding Protocol</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/simulator-funding-protocol/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Simulator Funding Protocol</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/universal-evm-funding-protocol/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Universal EVM Funding Protocol</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Reports</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Reports</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/reports/authorization-reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Authorization Reports</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/reports/clearing-reports/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Clearing Reports</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Testing</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/obtaining-test-tokens/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Obtaining Test Tokens</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/simulator/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Payment Simulator</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <a href="/guides/authentication" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Authentication</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/http-status-codes" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">HTTP Status Codes</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/cardholder-support" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Cardholder Support</span>  </a> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Supported Tokens</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/supported-tokens/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Supported Tokens</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/usdc/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">USDC</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Supported Chains</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/guides/supported-chains/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Supported Chains</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/algorand/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Algorand</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/ethereum/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Ethereum</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/guides/polygon/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Polygon</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <a href="/guides/regions" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Supported Regions</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <details open class="astro-l6dzxg3o"> <summary class="astro-l6dzxg3o"> <div class="group-label astro-l6dzxg3o"> <span class="large astro-l6dzxg3o">Resources</span>  </div> <svg aria-hidden="true" class="caret astro-l6dzxg3o astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-l6dzxg3o"> <li class="astro-l6dzxg3o"> <a href="/resources/postman-collection/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Postman Collection</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/resources/public-sandbox-account/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Public Sandbox Account</span>  </a> </li><li class="astro-l6dzxg3o"> <a href="/resources/smart-contracts/" class="astro-l6dzxg3o"> <span class="astro-l6dzxg3o">Smart Contracts</span>  </a> </li> </ul>  </details> </li><li class="astro-l6dzxg3o"> <a href="/api-reference/" class="large astro-l6dzxg3o"> <span class="astro-l6dzxg3o">API Reference</span>  </a> </li> </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-3fag6jyh"> <div class="sl-flex social-icons astro-3fag6jyh"> <a href="https://github.com/immersve/" rel="me" class="sl-flex astro-wwc4ysa4"><span class="sr-only astro-wwc4ysa4">GitHub</span><svg aria-hidden="true" class="astro-wwc4ysa4 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-pr4lcrjc"> <span class="sr-only astro-pr4lcrjc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-pr4lcrjc"> <option value="dark" class="astro-pr4lcrjc">Dark</option><option value="light" class="astro-pr4lcrjc">Light</option><option value="auto" selected="true" class="astro-pr4lcrjc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-pr4lcrjc astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-7iwgh2up">  <div class="lg:sl-flex astro-syeucc3b"> <aside class="right-sidebar-container astro-syeucc3b"> <div class="right-sidebar astro-syeucc3b"> <div class="lg:sl-hidden astro-evjamce5"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-4csglwav"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-4csglwav"><details id="starlight__mobile-toc" class="astro-4csglwav"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-4csglwav"><div class="toggle sl-flex astro-4csglwav">On this page<svg aria-hidden="true" class="caret astro-4csglwav astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-4csglwav"></span></summary><div class="dropdown astro-4csglwav"><ul class="isMobile astro-kzs6ghjc" style="--depth: 0;"> <li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#_top" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#before-you-get-started" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Before You Get Started</span> </a> <ul class="isMobile astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#verify-your-asset-is-supported" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Verify your asset is supported</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#select-funding-protocol" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Select Funding Protocol</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#select-kyc-mode" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Select KYC Mode</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#provision-application-resources" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Provision application resources</span> </a> <ul class="isMobile astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#set-up-your-partner-account" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Set up your partner account</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#register-a-funding-channel" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Register a Funding Channel</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#setup-environment" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Setup Environment</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#per-cardholder-setup" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Per cardholder setup</span> </a> <ul class="isMobile astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#create-a-cardholder-account" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Create a cardholder account</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#prove-ownership-of-web3-address" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Prove ownership of web3 address</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#register-cardholder-funding-source" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Register Cardholder Funding Source</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#request-a-card" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Request a Card</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#get-kyc-and-contact-details-prerequisites" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Get KYC and Contact Details Prerequisites</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#supply-contact-details" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Supply Contact Details</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#partner-conducted-kyc" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Partner Conducted KYC</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deposit-funds" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deposit Funds</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#check-card-balance" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Check Card Balance</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#perform-a-test-card-payment" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Perform a Test Card Payment</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-evjamce5"><div class="sl-container astro-evjamce5"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-kzs6ghjc" style="--depth: 0;"> <li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#_top" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#before-you-get-started" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Before You Get Started</span> </a> <ul class="astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#verify-your-asset-is-supported" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Verify your asset is supported</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#select-funding-protocol" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Select Funding Protocol</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#select-kyc-mode" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Select KYC Mode</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#provision-application-resources" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Provision application resources</span> </a> <ul class="astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#set-up-your-partner-account" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Set up your partner account</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#register-a-funding-channel" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Register a Funding Channel</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#setup-environment" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Setup Environment</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#per-cardholder-setup" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Per cardholder setup</span> </a> <ul class="astro-kzs6ghjc" style="--depth: 1;"> <li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#create-a-cardholder-account" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Create a cardholder account</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#prove-ownership-of-web3-address" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Prove ownership of web3 address</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#register-cardholder-funding-source" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Register Cardholder Funding Source</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#request-a-card" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Request a Card</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#get-kyc-and-contact-details-prerequisites" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Get KYC and Contact Details Prerequisites</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#supply-contact-details" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Supply Contact Details</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 1;"> <a href="#partner-conducted-kyc" class="astro-kzs6ghjc" style="--depth: 1;"> <span class="astro-kzs6ghjc" style="--depth: 1;">Partner Conducted KYC</span> </a>  </li> </ul>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#deposit-funds" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Deposit Funds</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#check-card-balance" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Check Card Balance</span> </a>  </li><li class="astro-kzs6ghjc" style="--depth: 0;"> <a href="#perform-a-test-card-payment" class="astro-kzs6ghjc" style="--depth: 0;"> <span class="astro-kzs6ghjc" style="--depth: 0;">Perform a Test Card Payment</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-syeucc3b">  <main data-pagefind-body lang="en" dir="ltr" class="astro-4kej2mf5">    <div class="content-panel astro-rp37vfpc"> <div class="sl-container astro-rp37vfpc"> <h1 id="_top" class="astro-yon6dedw">Custodial On-Chain Card Issuing Integration guide</h1>  </div> </div>  <div class="content-panel astro-rp37vfpc"> <div class="sl-container astro-rp37vfpc"> <div class="flex-auto prose dark:prose-invert [html_:where(&#38;>*)]:mx-auto [html_:where(&#38;>*)]:max-w-2xl [html_:where(&#38;>*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(&#38;>*)]:lg:max-w-3xl">  <article><p>For apps that have custody of user funds, this guide provides an end-to-end reference linking all necessary guides and API documentation. It includes detailed curl commands for each API call required to set up a partner, onboard users, and create and test a card, with card spending pre-funded through deposits to an on-chain contract.</p><h2 id="before-you-get-started">Before You Get Started</h2><h3 id="verify-your-asset-is-supported">Verify your asset is supported</h3><p>Before you begin integrating ensure your chain and token combination is supported. See <a href="/guides/supported-chains">Supported Chains</a> and <a href="/guides/supported-tokens">Supported Tokens</a>.</p><h3 id="select-funding-protocol">Select Funding Protocol</h3><p>See the <a href="/guides/funding-protocols">Funding Protocols</a> guide to find which protocol would best suit your use case.</p><h3 id="select-kyc-mode">Select KYC Mode</h3><p><a href="/guides/partner-conducted-kyc">Partner Conducted KYC</a> is the recommended KYC mode for custodial apps that have already verified their users. If users have not already been verified then <a href="/guides/immersve-conducted-kyc">Immersve Conducted KYC</a> can be used.</p><h2 id="provision-application-resources">Provision application resources</h2><h3 id="set-up-your-partner-account">Set up your partner account</h3><p>Contact support to get your: API Key, Partner Account ID, and Card Program ID.</p><h3 id="register-a-funding-channel">Register a Funding Channel</h3><p>You will need a funding channel per token and chain. See: <a href="/guides/creating-a-funding-channel">Creating a Funding Channel</a>.</p><h2 id="setup-environment">Setup Environment</h2><div class="my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 16 16" aria-hidden="true" class="mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200"> <circle cx="8" cy="8" r="8" stroke-width="0"></circle> <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 7.75h1.5v3.5"></path> <circle cx="8" cy="4" r=".5" fill="none"></circle> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <p>This guide uses Bash, curl and <a href="https://jqlang.github.io/jq/">jq</a> for example API interactions.</p> </div> </div><p>The following variables are referenced from the example bash scripts throughout this guide.</p><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;your_card_issuer_api_key>"</span></span>
<span class="line"><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;your_card_issuer_api_secret>"</span></span>
<span class="line"><span style="color:#575279;font-style:italic">partner_account_id</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;your_partner_account_id>"</span></span>
<span class="line"><span style="color:#575279;font-style:italic">card_program_id</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;your_card_program_id>"</span></span>
<span class="line"><span style="color:#575279;font-style:italic">funding_channel_id</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;your_funding_channel_id>"</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h2 id="per-cardholder-setup">Per cardholder setup</h2><h3 id="create-a-cardholder-account">Create a cardholder account</h3><p>Provision each cardholder with an account and save their ID. In the custodial case it is assumed that you have gained permission to act on the cardholders behalf. All cardholder resources on our platform will be fully owned by your app. Each request on a cardholder resource must specify the cardholder by referencing the cardholder ID in the headers as specified in the <a href="/guides/authentication">Authentication Guide</a>.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/create-account/">Create Account</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#D7827E">curl</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/accounts"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "parentAccountId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">partner_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "type": "cardholder",</span></span>
<span class="line"><span style="color:#EA9D34">    "name": "&#x3C;e.g. Cardholder Account of Joe>"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span><span style="color:#286983"> |</span><span style="color:#D7827E"> jq</span><span style="color:#286983"> -r</span><span style="color:#EA9D34"> .id</span><span style="color:#797593">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="prove-ownership-of-web3-address">Prove ownership of web3 address</h3><p>In order to prove ownership of the respective EOA (Externally owned account), sign a challenge message using the EOA&#39;s private key. Use an address that you control and would like to use to fund a user&#39;s card(s). To learn more about web3 message signing, checkout <a href="https://etherscan.io/verifiedSignatures">Etherscan</a>, <a href="https://ethsigner.netlify.app/sign/personal_sign">Eth Signer</a> and <a href="https://docs.ethers.org/v6/getting-started/#starting-signing">Ethers.js</a>.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/create-challenge/">Create Challenge</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#575279;font-style:italic">wallet_address</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;wallet_address>"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#575279;font-style:italic">response</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/challenges"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "x-account-id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "purpose": "claim-web3-address",</span></span>
<span class="line"><span style="color:#EA9D34">    "network": "&#x3C;network name e.g polygon-amoy>",</span></span>
<span class="line"><span style="color:#EA9D34">    "address": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">wallet_address</span><span style="color:#797593">}</span><span style="color:#EA9D34">'"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span><span style="color:#797593">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#575279;font-style:italic">challenge_id</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#B4637A;font-style:italic">echo</span><span style="color:#575279;font-style:italic"> $response</span><span style="color:#286983"> |</span><span style="color:#D7827E"> jq</span><span style="color:#286983"> -r</span><span style="color:#EA9D34"> '.id'</span><span style="color:#797593">)</span></span>
<span class="line"><span style="color:#575279;font-style:italic">message</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#B4637A;font-style:italic">echo</span><span style="color:#575279;font-style:italic"> $response</span><span style="color:#286983"> |</span><span style="color:#D7827E"> jq</span><span style="color:#286983"> -r</span><span style="color:#EA9D34"> '.message'</span><span style="color:#797593">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B4637A;font-style:italic">echo</span><span style="color:#EA9D34"> "Message:</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">message</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="register-cardholder-funding-source">Register Cardholder Funding Source</h3><p>Creating a Funding Source for a cardholder enables Immersve to attribute transactions from a funding address to individual cardholders. The &quot;signature&quot; parameter is the signature of the signed message from the previous step. For more context and information on card funding and executing deposits and withdrawals see the <a href="/guides/card-funding">Card Funding</a> guide.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/create-a-funding-source-for-an-account/">Create A Funding Source For An Account</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#575279;font-style:italic">signature</span><span style="color:#286983">=</span><span style="color:#EA9D34">"&#x3C;signature hash of cardholder signing the challenge message with their wallet>"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#575279;font-style:italic">funding_source_id</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/funding-sources"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "accountId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "fundingAddress": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">wallet_address</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "fundingChannelId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">funding_channel_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "signature": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">signature</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "challengeId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">challenge_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span><span style="color:#286983"> |</span><span style="color:#D7827E"> jq</span><span style="color:#286983"> -r</span><span style="color:#EA9D34"> '.id'</span><span style="color:#797593">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="request-a-card">Request a Card</h3><p>For a more complete guide on card creation see <a href="/guides/issue-a-virtual-card">Issue a Virtual Card</a>.</p><p><strong>Create a card</strong></p><p>Post the funding source ID and your provided card program ID to the card orders endpoint and record the returned card ID.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/create-a-card/">Create A Card</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#575279;font-style:italic">card_id</span><span style="color:#286983">=</span><span style="color:#797593">$(</span><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/cards"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "cardProgramId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_program_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "fundingSourceId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">funding_source_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span><span style="color:#286983"> |</span><span style="color:#D7827E"> jq</span><span style="color:#286983"> -r</span><span style="color:#EA9D34"> .cardId</span><span style="color:#797593">)</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><p><strong>Get card details</strong></p><p>Call Get Card Details to see card status and ensure it is active.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/get-card-details/">Get Card Details</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> GET</span><span style="color:#EA9D34"> "https://test.immersve.com/api/cards/</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><p><strong>Get sensitive card details</strong></p><p>Card sensitive details are obtained by generating a unique time-limited token. The response contains a callback URL which can be used to obtain the sensitive card details. See <a href="/guides/fetching-secure-card-information">Fetching Secure Card Information</a> for more details.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/get-a-card-token/">Get A Card Token</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/cards/</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">/pan-token"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="get-kyc-and-contact-details-prerequisites">Get KYC and Contact Details Prerequisites</h3><p>The spending prerequisites endpoint can be used to check whether the KYC and contact details requirements for a cardholder have been satisfied.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/get-spending-prerequisites/">Get Spending Prerequisites</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/spending-prerequisites"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "cardProgramId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_program_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "fundingSourceId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">funding_source_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "spendableAmount": 100,</span></span>
<span class="line"><span style="color:#EA9D34">    "spendableCurrency": "USD",</span></span>
<span class="line"><span style="color:#EA9D34">    "kycType": "partner-conducted",</span></span>
<span class="line"><span style="color:#EA9D34">    "kycRegion":"NZL"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="supply-contact-details">Supply Contact Details</h3><div class="my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 16 16" aria-hidden="true" class="mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200"> <circle cx="8" cy="8" r="8" stroke-width="0"></circle> <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 7.75h1.5v3.5"></path> <circle cx="8" cy="4" r=".5" fill="none"></circle> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <p>Immersve will not perform validation of a user&#39;s contact details.</p> </div> </div><p>Immersve requires users contact details (phone number and email) for the following reasons, this should be explained to customers:</p><ul><li>Adding cards to Apple/Google Pay wallets (X-Pay)</li><li>Performing 3DS validation for online transactions</li></ul><p>If a user doesn&#39;t provide contact details, they risk online transactions being rejected and might not be able to add cards to X-Pay wallets.</p><p>Before you share contact details with Immersve you must collect user consent via a checkbox. This can be done at the same time as KYC information sharing.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/update-contact-details/">Update Contact Details</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> PATCH</span><span style="color:#EA9D34"> "https://test.immersve.com/api/accounts/</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">/contact-details"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "email": {</span></span>
<span class="line"><span style="color:#EA9D34">      "emailAddress": "joe@cardholder.email",</span></span>
<span class="line"><span style="color:#EA9D34">    },</span></span>
<span class="line"><span style="color:#EA9D34">    "phone": {</span></span>
<span class="line"><span style="color:#EA9D34">      "phoneNumber": "+64123456789",</span></span>
<span class="line"><span style="color:#EA9D34">    }</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h3 id="partner-conducted-kyc">Partner Conducted KYC</h3><p>See: <a href="/guides/partner-conducted-kyc">Partner Conducted KYC</a>.</p><h2 id="deposit-funds">Deposit Funds</h2><p>Before spending with a card, funds must be deposited to a funding source connected to the card. Use the <a href="/api-reference/get-spending-prerequisites">Get spending prerequisites</a> endpoint to get the correct Smart Contract write transaction for the specified amount, chain, and token.</p><p>For more information on executing deposits and withdrawals see the <a href="/guides/card-funding">Card Funding</a> guide.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 16 16" aria-hidden="true" class="mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200"> <circle cx="8" cy="8" r="8" stroke-width="0"></circle> <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 7.75h1.5v3.5"></path> <circle cx="8" cy="4" r=".5" fill="none"></circle> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <p>Note: &quot;spendableAmount&quot; uses minor units. For example, &quot;100&quot; USD minor units means $1.00.</p> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/spending-prerequisites"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "Content-Type: application/json"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "cardProgramId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_program_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "fundingSourceId": "'</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">funding_source_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">'",</span></span>
<span class="line"><span style="color:#EA9D34">    "spendableAmount": 100,</span></span>
<span class="line"><span style="color:#EA9D34">    "spendableCurrency": "USD"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h2 id="check-card-balance">Check Card Balance</h2><p>Verify that the balance is reflected on the Funding Source.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/list-funding-sources/">List Funding Sources</a> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> GET</span><span style="color:#EA9D34"> "https://test.immersve.com/api/accounts/</span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">/funding-sources"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div><h2 id="perform-a-test-card-payment">Perform a Test Card Payment</h2><p>Perform a card payment using the Immersve <a href="/guides/simulator">Payment Simulator</a>. Call the simulator endpoint with the sensitive card details.</p><div class="my-6 flex gap-2.5 rounded-2xl border border-indigo-500/20 bg-indigo-50/50 p-4 leading-6 text-indigo-900 dark:border-indigo-500/30 dark:bg-indigo-500/5 dark:text-indigo-200 dark:[--tw-prose-links-hover:theme(colors.indigo.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" class="mt-1 h-4 w-4 flex-none fill-indigo-500 stroke-white dark:fill-indigo-200/20 dark:stroke-indigo-200"> <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0">
API Reference: <a href="https://docs.immersve.com/api-reference/authorize-a-transaction/">Authorize A Transaction</a> </div> </div><div class="my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]"> <svg viewBox="0 0 16 16" aria-hidden="true" class="mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200"> <circle cx="8" cy="8" r="8" stroke-width="0"></circle> <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 7.75h1.5v3.5"></path> <circle cx="8" cy="4" r=".5" fill="none"></circle> </svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <p>Note: &quot;transactionAmount&quot; uses USD minor units. For example, &quot;10&quot; means $0.10.</p> </div> </div><div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"> <div class="my-6 overflow-hidden rounded-2xl shadow-md dark:ring-1 dark:ring-white/10"> <div class="not-prose">  <div class="group dark:bg-white/2.5 dark:invert"> <!-- hack: set bg-color to same as shiki theme bg --> <div class="relative p-2" style="background-color:#faf4ed;"> <pre class="astro-code rose-pine-dawn" style="background-color:#faf4ed;color:#575279; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#D7827E">curl</span><span style="color:#286983"> -X</span><span style="color:#EA9D34"> POST</span><span style="color:#EA9D34"> "https://test.immersve.com/api/simulator/authorize"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Key: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_key</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Api-Secret: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">card_issuer_api_secret</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span><span style="color:#286983"> \</span></span>
<span class="line"><span style="color:#286983">  -H</span><span style="color:#EA9D34"> "X-Account-Id: </span><span style="color:#797593">${</span><span style="color:#575279;font-style:italic">cardholder_account_id</span><span style="color:#797593">}</span><span style="color:#EA9D34">"</span></span>
<span class="line"><span style="color:#D7827E">  --data</span><span style="color:#EA9D34"> '{</span></span>
<span class="line"><span style="color:#EA9D34">    "transactionType": "purchase",</span></span>
<span class="line"><span style="color:#EA9D34">    "transactionAmount": "10",</span></span>
<span class="line"><span style="color:#EA9D34">    "cardPan": "1234567812345678",</span></span>
<span class="line"><span style="color:#EA9D34">    "cardExpiry": "202510",</span></span>
<span class="line"><span style="color:#EA9D34">    "cardCvv": "123"</span></span>
<span class="line"><span style="color:#EA9D34">  }'</span></span>
<span class="line"></span></code></pre> </div> </div> </div> </div> </div></article>  </div> <footer class="astro-dwnbuzcn"> <div class="meta sl-flex astro-dwnbuzcn"> <a href="https://github.com/immersve/immersve-docs/edit/main/imsv-docs-astro/src/content/docs/guides/card-issuing-apps/custodial-on-chain-card-issuing-integration.mdoc" class="sl-flex astro-p4gfue55"><svg aria-hidden="true" class="astro-p4gfue55 astro-bzwfpdak" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg> Edit page</a>  </div> <div class="flex"> <div class="flex flex-col items-start gap-3"> <a href="/guides/creating-a-funding-channel/" class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition not-prose rounded-full bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -ml-1 rotate-180"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path> </svg>Previous</a> <a href="/guides/creating-a-funding-channel/" tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300"> Creating a Funding Channel </a> </div> <div class="ml-auto flex flex-col items-end gap-3"> <a href="/guides/fetching-secure-card-information/" class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition not-prose rounded-full bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300">Next<svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -mr-1"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path> </svg></a> <a href="/guides/fetching-secure-card-information/" tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300"> Fetching Secure Card Information </a> </div> </div>  <div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40 mt-10"> <div class="relative px-4 sm:px-8 lg:px-12"> <div class="mx-auto max-w-2xl lg:max-w-5xl"> <div class="flex flex-col items-center justify-between gap-6 sm:flex-row"> <div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-xs font-medium text-zinc-800 dark:text-zinc-200"> <a href="https://immersve.com/">Sales</a> <a href="https://help.immersve.com/">Support</a> <a href="https://docs.immersve.com/">Docs</a> <a href="https://docs.immersve.com/api-reference/">APIs</a> </div> <p class="text-xs text-zinc-600 dark:text-zinc-500">
&copy; Copyright 2024 Immersve. All rights reserved.
</p> </div> </div> </div> </div> </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>