get:
  tags:
    - currency
  summary: Currency conversion
  description: Convert a source currency to a target currency.
  parameters:
    - name: currency
      in: query
      required: true
      description: The currency alpha code to convert from
      schema:
        type: string
    - name: amount
      in: query
      description: The amount of `currency` to convert to destination currency
      required: true
      schema:
        type: number
        format: decimal
    - name: targetCurrency
      in: query
      description: The target currency alpha code for the conversion. Defaults to `USD`
      required: false
      schema:
        type: string
    - name: useMinorUnits
      in: query
      description: When enabled, amount in query parameters will be accepted in minor units, an integer in the smallest denomination for the given currency. Amount and convertedAmount in payload will be also returned in minor units.
      required: false
      schema:
        type: boolean

  responses:
    "200":
      content:
        application/json:
          schema:
            $ref: "./models/currency-conversion.yaml"
          example: |
            {
              "currency": "NZD",
              "convertedCurrency": "USD",
              "amount": 1000,
              "convertedAmount": 696.2285,
              "rate": 0.6962285
            }