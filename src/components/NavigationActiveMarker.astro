---
const {
  group,
  pathname,
} = Astro.props;

function remToPx(remValue: number) {
  let rootFontSize =
    typeof window === 'undefined'
      ? 16
      : parseFloat(window.getComputedStyle(document.documentElement).fontSize)
  return remValue * rootFontSize
}

const itemHeight = remToPx(2)
const offset = remToPx(0.25)
const activePageIndex = group.entries.findIndex((entry) => entry.isCurrent)
const top = offset + activePageIndex * itemHeight
---
<div
  layout
  className="absolute left-2 h-6 w-px bg-emerald-500"
  initial={{ opacity: 0 }}
  animate={{ opacity: 1, transition: { delay: 0.2 } }}
  exit={{ opacity: 0 }}
  style={{ top }}
/>
