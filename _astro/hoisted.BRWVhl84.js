const E="_top";class b extends HTMLElement{constructor(){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=parseInt(this.dataset.minH||"2",10),this.maxH=parseInt(this.dataset.maxH||"3",10);const n=[...this.querySelectorAll("a")],l=t=>{if(t instanceof HTMLHeadingElement){if(t.id===E)return!0;const o=t.tagName[1];if(o){const e=parseInt(o,10);if(e>=this.minH&&e<=this.maxH)return!0}}return!1},i=t=>{if(!t)return null;const o=t;for(;t;){if(l(t))return t;for(t=t.previousElementSibling;t?.lastElementChild;)t=t.lastElementChild;const e=i(t);if(e)return e}return i(o.parentElement)},m=t=>{for(const{isIntersecting:o,target:e}of t){if(!o)continue;const a=i(e);if(!a)continue;const u=n.find(p=>p.hash==="#"+encodeURIComponent(a.id));if(u){this.current=u;break}}},d=document.querySelectorAll("main [id], main [id] ~ *, main .content > *");let s;const r=()=>{s&&s.disconnect(),s=new IntersectionObserver(m,{rootMargin:this.getRootMargin()}),d.forEach(t=>s.observe(t))};r();const c=window.requestIdleCallback||(t=>setTimeout(t,1));let h;window.addEventListener("resize",()=>{s&&s.disconnect(),clearTimeout(h),h=setTimeout(()=>c(r),200)})}set current(n){n!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),n.setAttribute("aria-current","true"),this._current=n)}getRootMargin(){const n=document.querySelector("header")?.getBoundingClientRect().height||0,l=this.querySelector("summary")?.getBoundingClientRect().height||0,i=n+l+32,m=i+53,d=document.documentElement.clientHeight;return`-${i}px 0% ${m-d}px`}}customElements.define("starlight-toc",b);const v="modulepreload",y=function(g){return"/"+g},f={},w=function(n,l,i){let m=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=s?.nonce||s?.getAttribute("nonce");m=Promise.allSettled(l.map(c=>{if(c=y(c),c in f)return;f[c]=!0;const h=c.endsWith(".css"),t=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${t}`))return;const o=document.createElement("link");if(o.rel=h?"stylesheet":v,h||(o.as="script"),o.crossOrigin="",o.href=c,r&&o.setAttribute("nonce",r),document.head.appendChild(o),h)return new Promise((e,a)=>{o.addEventListener("load",e),o.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${c}`)))})}))}function d(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return m.then(s=>{for(const r of s||[])r.status==="rejected"&&d(r.reason);return n().catch(d)})};class S extends HTMLElement{constructor(){super();const n=this.querySelector("button[data-open-modal]"),l=this.querySelector("button[data-close-modal]"),i=this.querySelector("dialog"),m=this.querySelector(".dialog-frame"),d=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!m.contains(e.target))&&r()},s=e=>{i.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",d)},r=()=>i.close();n.addEventListener("click",s),n.disabled=!1,l.addEventListener("click",r),i.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",d)}),window.addEventListener("keydown",e=>{const a=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"?(i.open?r():s(),e.preventDefault()):e.key==="/"&&!i.open&&!a&&(s(),e.preventDefault())});let c={};try{c=JSON.parse(this.dataset.translations||"{}")}catch{}const o=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(a=>setTimeout(a,1)))(async()=>{const{PagefindUI:a}=await w(async()=>{const{PagefindUI:u}=await import("./ui-core.CFeW9E2z.js");return{PagefindUI:u}},[]);new a({element:"#starlight__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:c,showSubResults:!0,processResult:u=>{u.url=o(u.url),u.sub_results=u.sub_results.map(p=>(p.url=o(p.url),p))}})})})}}customElements.define("site-search",S);class L extends HTMLElement{constructor(){super(),this.closeBtn=this.querySelector("button"),this.content=this.querySelector("#__menu_content"),this.addEventListener("click",()=>this.close()),this.closeBtn.addEventListener("click",()=>this.close()),this.content.addEventListener("click",n=>n.stopPropagation()),document.body.addEventListener("keyup",n=>this.closeOnEscape(n))}close(){document.body.toggleAttribute("data-mobile-menu-expanded",!1)}closeOnEscape(n){n.code==="Escape"&&this.close()}}customElements.define("nav-menu",L);class k extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.setExpanded())}setExpanded(){document.body.toggleAttribute("data-mobile-menu-expanded",!0)}}customElements.define("starlight-menu-button",k);export{w as _};
